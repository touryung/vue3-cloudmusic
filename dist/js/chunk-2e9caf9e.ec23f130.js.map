{"version":3,"sources":["webpack:///./src/views/mv-detail/Index.vue?f0c8","webpack:///./src/views/mv-detail/Index.vue","webpack:///./src/views/mv-detail/Index.vue?a201","webpack:///./src/views/mv-detail/Index.vue?f8a1","webpack:///./node_modules/core-js/modules/es.string.match.js","webpack:///./src/api/singer/convert.ts","webpack:///./src/api/singer/index.ts","webpack:///./src/api/video/convert.ts","webpack:///./src/api/video/index.ts","webpack:///./src/components/comment-box/CommentBox.vue?c586","webpack:///./src/components/comment-box/CommentBox.vue","webpack:///./src/components/comment-box/CommentBox.vue?af39","webpack:///./src/components/comment-box/CommentBox.vue?6eee"],"names":["class","ref","handleBackClick","isMv","width","height","autoplay","controls","src","videoInfo","url","poster","posterUrl","avatarUrl","alt","creatorName","name","desc","showDesc","publishTime","playCount","videoGroup","length","item","key","id","likedCount","subCount","shareCount","total","hotComments","comments","totalPageCount","pageCount","pagerCount","currentPage","handlePageChange","relatedVideoInfo","handleChangeVideo","coverUrl","durationStr","title","creator","components","CommentBox","setup","router","route","go","String","params","commentInfo","getComments","getCommentsFunc","value","mvDetailRef","init","push","test","to","render","__scopeId","fixRegExpWellKnownSymbolLogic","anObject","toLength","requireObjectCoercible","advanceStringIndex","regExpExec","MATCH","nativeMatch","maybeCallNative","regexp","O","this","matcher","undefined","call","RegExp","string","res","done","rx","S","global","fullUnicode","unicode","lastIndex","result","A","n","matchStr","convertSingerList","data","artists","more","ars","map","artist","picUrl","img1v1Url","singers","hotSongs","singerInfo","alias","join","musicSize","albumSize","mvSize","top50","song","al","alia","ar","album","sq","st","duration","dt","mvId","mv","hotAlbums","convertAlbums","albums","songs","mvs","imgurl16v9","convertSingerDesc","introduction","briefDesc","ti","textArr","txt","split","convertSimiSinger","REQUEST_URL","singerList","singerMvs","singerDesc","simiSinger","singerAlbums","albumSongs","area","type","initial","limit","offset","then","count","cover","artistId","artistName","Math","floor","convertMvDetail","convertVideoDetail","vid","urls","nickname","subscribeCount","playTime","description","video","userName","durationms","mvList","related","mvDetail","mvZan","mvUrl","mvComment","videoDetail","videoZan","videoUrl","videoComment","order","mvid","convertComment","rows","maxlength","handleCalcRestWord","inputRestWord","commentInput","calcWord","text","english","match","chinese"],"mappings":"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","file":"js/chunk-2e9caf9e.ec23f130.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=8827950e&lang=scss&scoped=true\"","<template>\n  <div class=\"mv-detail\" ref=\"mvDetailRef\">\n    <div class=\"detail-left\">\n      <h1 class=\"left-title\" @click=\"handleBackClick\">\n        <i class=\"iconfont icon-preview-left\" />\n        <span>{{ isMv ? \"MV\" : \"视频\" }}详情</span>\n      </h1>\n      <video\n        width=\"640\"\n        height=\"360\"\n        autoplay\n        controls\n        :src=\"videoInfo.url\"\n        :poster=\"videoInfo.posterUrl\"\n      />\n      <div class=\"video-info\">\n        <div class=\"info-creator\">\n          <img :src=\"videoInfo.avatarUrl\" alt=\"\" />\n          <span>{{ videoInfo.creatorName }}</span>\n        </div>\n        <div class=\"info-desc\">\n          <h1 class=\"video-name\">\n            {{ videoInfo.name }}\n            <i\n              v-if=\"videoInfo.desc\"\n              :class=\"`iconfont icon-${showDesc ? 'up' : 'down-2'}`\"\n              @click=\"showDesc = !showDesc\"\n            />\n          </h1>\n          <div class=\"video-count\">\n            发布 : {{ videoInfo.publishTime }} &nbsp;&nbsp;&nbsp; 播放 :\n            {{ videoInfo.playCount }}\n          </div>\n        </div>\n        <!-- 小标签 -->\n        <ul v-if=\"videoInfo.videoGroup?.length\">\n          <li class=\"group\" v-for=\"item in videoInfo.videoGroup\" :key=\"item.id\">\n            {{ item.name }}\n          </li>\n        </ul>\n        <p v-if=\"showDesc\" class=\"video-desc\">{{ videoInfo.desc }}</p>\n        <!-- 计数按钮 -->\n        <ul>\n          <li class=\"option\">\n            <i class=\"iconfont icon-zan\" />\n            <span>赞({{ videoInfo.likedCount }})</span>\n          </li>\n          <li class=\"option\">\n            <i class=\"iconfont icon-player-collect\" />\n            <span>收藏({{ videoInfo.subCount }})</span>\n          </li>\n          <li class=\"option\">\n            <i class=\"iconfont icon-share\" />\n            <span>分享({{ videoInfo.shareCount }})</span>\n          </li>\n          <li class=\"option\">\n            <i class=\"iconfont icon-player-download\" />\n            <span>下载MV</span>\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"video-comment\">\n        <h1 class=\"comment-title\">\n          评论<span>({{ total }})</span>\n        </h1>\n        <CommentBox />\n        <Comments\n          :hotComments=\"hotComments\"\n          :comments=\"comments\"\n          :total=\"total\"\n        />\n        <Pagin\n          :totalPageCount=\"pageCount\"\n          :pagerCount=\"9\"\n          :currentPage=\"currentPage\"\n          @page-change=\"handlePageChange\"\n        />\n      </div>\n    </div>\n    <div class=\"detail-right\">\n      <h1 class=\"right-title\">相关推荐</h1>\n      <ul>\n        <li\n          class=\"related-video\"\n          v-for=\"item in relatedVideoInfo\"\n          :key=\"item.id\"\n          @click=\"handleChangeVideo(item.id)\"\n        >\n          <div class=\"video-cover\">\n            <img :src=\"item.coverUrl\" alt=\"\" />\n            <div class=\"video-count\">\n              <i class=\"iconfont icon-playlist-play\" />\n              <span>{{ item.playCount }}</span>\n            </div>\n            <div class=\"video-duration\">{{ item.durationStr }}</div>\n          </div>\n          <div class=\"video-info\">\n            <p class=\"info-title\">{{ item.title }}</p>\n            <div class=\"info-creator\">by {{ item.creator }}</div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  getMvCommentData,\n  getMvDetailData,\n  getRelatedVideoData,\n  getVideoCommentData,\n  getVideoDetailData,\n} from \"@/api/video\";\nimport { defineComponent, onMounted, reactive, ref, toRefs } from \"vue\";\nimport {\n  useRouter,\n  useRoute,\n  onBeforeRouteUpdate,\n  RouteLocationNormalized,\n} from \"vue-router\";\n\nimport CommentBox from \"@/components/comment-box/CommentBox.vue\";\nimport { scrollTop } from \"@/utils/animation\";\n\nexport default defineComponent({\n  components: {\n    CommentBox,\n  },\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n    const handleBackClick = () => router.go(-1);\n    const id = String(route.params.id);\n\n    const isMv = ref<boolean>(true);\n    const showDesc = ref<boolean>(false);\n\n    const commentInfo = reactive({\n      hotComments: [],\n      comments: [],\n      total: 0,\n      pageCount: 0,\n      currentPage: 1,\n      id, // 记录推荐视频 id，初始化为当前路由 id\n    });\n    const getComments = async () => {\n      const getCommentsFunc = isMv.value\n        ? getMvCommentData\n        : getVideoCommentData;\n\n      const { hotComments, comments, total, pageCount } = await getCommentsFunc(\n        commentInfo.id,\n        commentInfo.currentPage\n      );\n\n      commentInfo.hotComments = hotComments;\n      commentInfo.comments = comments;\n      commentInfo.total = total;\n      commentInfo.pageCount = pageCount;\n    };\n    const mvDetailRef = ref<HTMLElement | null>(null);\n    const handlePageChange = (currentPage: number) => {\n      scrollTop(mvDetailRef, 800);\n      commentInfo.currentPage = currentPage;\n      getComments();\n    };\n\n    const videoInfo = ref<any>({});\n    const relatedVideoInfo = ref<any>([]);\n    const init = async (id: string) => {\n      if (isMv.value) {\n        videoInfo.value = await getMvDetailData(id);\n        relatedVideoInfo.value = await getRelatedVideoData(id);\n      } else {\n        videoInfo.value = await getVideoDetailData(id);\n        relatedVideoInfo.value = await getRelatedVideoData(id);\n      }\n      getComments();\n    };\n    const handleChangeVideo = (id: string) => {\n      commentInfo.currentPage = 1;\n      router.push(`/mv/${id}`);\n    };\n\n    onMounted(() => {\n      const id = String(route.params.id);\n      commentInfo.id = id;\n      isMv.value = /[a-zA-Z]/g.test(id) ? false : true;\n      init(commentInfo.id);\n    });\n    onBeforeRouteUpdate((to: RouteLocationNormalized) => {\n      const id = String(to.params.id);\n      commentInfo.id = id;\n      isMv.value = /[a-zA-Z]/g.test(id) ? false : true;\n      init(commentInfo.id);\n    });\n\n    return {\n      isMv,\n      showDesc,\n      videoInfo,\n      relatedVideoInfo,\n      mvDetailRef,\n      ...toRefs(commentInfo),\n      handleBackClick,\n      handlePageChange,\n      handleChangeVideo,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.mv-detail {\n  position: fixed;\n  width: 100%;\n  top: $header-height;\n  bottom: 0;\n  display: flex;\n  align-items: flex-start;\n  padding: 0 12%;\n  box-sizing: border-box;\n  background: #fff;\n  overflow: auto;\n  z-index: 50;\n\n  .detail-left {\n    flex: 0 0 640px;\n\n    .left-title {\n      display: inline-flex;\n      align-items: center;\n      height: 60px;\n      line-height: 60px;\n      font-size: 17px;\n      font-weight: bold;\n      cursor: pointer;\n\n      .iconfont {\n        font-size: 20px;\n        font-weight: initial;\n        color: #666;\n      }\n    }\n\n    > video {\n      outline: none;\n    }\n\n    .video-info {\n      margin: 16px 0;\n\n      .info-creator {\n        display: flex;\n        align-items: center;\n        font-size: 14px;\n        color: #666;\n        cursor: pointer;\n        margin-bottom: 10px;\n\n        > img {\n          width: 52px;\n          border-radius: 50%;\n          margin-right: 10px;\n        }\n      }\n      .info-desc {\n        .video-name {\n          font-size: 22px;\n          font-weight: bold;\n          color: #444;\n          line-height: 1.2;\n\n          .iconfont {\n            font-size: 22px;\n            cursor: pointer;\n          }\n        }\n\n        .video-count {\n          margin: 20px 0;\n          font-size: 12px;\n          color: #dfdfdf;\n        }\n      }\n\n      .video-desc {\n        font-size: 12px;\n        line-height: 1.5;\n        @include multipleNoWrap(4);\n      }\n\n      .group {\n        display: inline-block;\n        padding: 4px 8px;\n        margin: 0 4px 16px 0;\n        background: #f1f1f1;\n        color: #444;\n        font-size: 12px;\n        border-radius: 10px;\n        cursor: pointer;\n      }\n\n      .option {\n        display: inline-flex;\n        align-items: center;\n        padding: 4px 22px;\n        margin: 16px 10px 16px 0;\n        border: 1px solid #e1e1e1;\n        color: #444;\n        font-size: 13px;\n        border-radius: 25px;\n        cursor: pointer;\n\n        .iconfont {\n          margin-right: 4px;\n          font-size: 22px;\n        }\n      }\n    }\n\n    .video-comment {\n      margin-bottom: 40px;\n\n      .comment-title {\n        height: 60px;\n        line-height: 60px;\n        font-size: 20px;\n        font-weight: bold;\n        cursor: pointer;\n\n        > span {\n          font-size: 12px;\n          font-weight: initial;\n          color: #aaa;\n          margin-left: 5px;\n        }\n      }\n    }\n  }\n\n  .detail-right {\n    flex: 1;\n    margin-left: 30px;\n\n    .right-title {\n      height: 60px;\n      line-height: 60px;\n      font-size: 17px;\n      font-weight: bold;\n      cursor: pointer;\n    }\n\n    .related-video {\n      display: flex;\n      align-items: flex-start;\n      margin-bottom: 10px;\n      cursor: pointer;\n\n      .video-cover {\n        position: relative;\n\n        > img {\n          width: 148px;\n        }\n\n        .video-count {\n          position: absolute;\n          top: 4px;\n          right: 8px;\n          display: flex;\n          align-items: center;\n          font-size: 12px;\n          color: #fff;\n        }\n\n        .video-duration {\n          position: absolute;\n          bottom: 6px;\n          right: 8px;\n          font-size: 12px;\n          color: #fff;\n        }\n      }\n\n      .video-info {\n        margin-left: 10px;\n        font-size: 13px;\n\n        .info-title {\n          height: 40px;\n          line-height: 1.5;\n          margin: 10px 0;\n          @include multipleNoWrap(2);\n        }\n\n        .info-creator {\n          font-size: 12px;\n          color: #ccc;\n        }\n      }\n    }\n  }\n}\n</style>\n","\nimport {\n  getMvCommentData,\n  getMvDetailData,\n  getRelatedVideoData,\n  getVideoCommentData,\n  getVideoDetailData,\n} from \"@/api/video\";\nimport { defineComponent, onMounted, reactive, ref, toRefs } from \"vue\";\nimport {\n  useRouter,\n  useRoute,\n  onBeforeRouteUpdate,\n  RouteLocationNormalized,\n} from \"vue-router\";\n\nimport CommentBox from \"@/components/comment-box/CommentBox.vue\";\nimport { scrollTop } from \"@/utils/animation\";\n\nexport default defineComponent({\n  components: {\n    CommentBox,\n  },\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n    const handleBackClick = () => router.go(-1);\n    const id = String(route.params.id);\n\n    const isMv = ref<boolean>(true);\n    const showDesc = ref<boolean>(false);\n\n    const commentInfo = reactive({\n      hotComments: [],\n      comments: [],\n      total: 0,\n      pageCount: 0,\n      currentPage: 1,\n      id, // 记录推荐视频 id，初始化为当前路由 id\n    });\n    const getComments = async () => {\n      const getCommentsFunc = isMv.value\n        ? getMvCommentData\n        : getVideoCommentData;\n\n      const { hotComments, comments, total, pageCount } = await getCommentsFunc(\n        commentInfo.id,\n        commentInfo.currentPage\n      );\n\n      commentInfo.hotComments = hotComments;\n      commentInfo.comments = comments;\n      commentInfo.total = total;\n      commentInfo.pageCount = pageCount;\n    };\n    const mvDetailRef = ref<HTMLElement | null>(null);\n    const handlePageChange = (currentPage: number) => {\n      scrollTop(mvDetailRef, 800);\n      commentInfo.currentPage = currentPage;\n      getComments();\n    };\n\n    const videoInfo = ref<any>({});\n    const relatedVideoInfo = ref<any>([]);\n    const init = async (id: string) => {\n      if (isMv.value) {\n        videoInfo.value = await getMvDetailData(id);\n        relatedVideoInfo.value = await getRelatedVideoData(id);\n      } else {\n        videoInfo.value = await getVideoDetailData(id);\n        relatedVideoInfo.value = await getRelatedVideoData(id);\n      }\n      getComments();\n    };\n    const handleChangeVideo = (id: string) => {\n      commentInfo.currentPage = 1;\n      router.push(`/mv/${id}`);\n    };\n\n    onMounted(() => {\n      const id = String(route.params.id);\n      commentInfo.id = id;\n      isMv.value = /[a-zA-Z]/g.test(id) ? false : true;\n      init(commentInfo.id);\n    });\n    onBeforeRouteUpdate((to: RouteLocationNormalized) => {\n      const id = String(to.params.id);\n      commentInfo.id = id;\n      isMv.value = /[a-zA-Z]/g.test(id) ? false : true;\n      init(commentInfo.id);\n    });\n\n    return {\n      isMv,\n      showDesc,\n      videoInfo,\n      relatedVideoInfo,\n      mvDetailRef,\n      ...toRefs(commentInfo),\n      handleBackClick,\n      handlePageChange,\n      handleChangeVideo,\n    };\n  },\n});\n","import { render } from \"./Index.vue?vue&type=template&id=8827950e&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=8827950e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-8827950e\"\n\nexport default script","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (string) {\n      var res = maybeCallNative(nativeMatch, this, string);\n      if (res.done) return res.value;\n\n      var rx = anObject(this);\n      var S = String(string);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","import { formatDate, formatDuration, translateCount } from \"@/utils/utils\";\nimport { AxiosResponse } from \"axios\";\n\nexport const convertSingerList = (res: AxiosResponse) => {\n  const { artists, more } = res.data;\n  const ars = artists.map((artist: any) => ({\n    id: artist.id,\n    name: artist.name,\n    picUrl: artist.img1v1Url,\n  }));\n\n  return {\n    singers: ars,\n    more,\n  };\n};\n\nexport const convertSingerInfo = (res: AxiosResponse) => {\n  const { artist, hotSongs } = res.data;\n\n  const singerInfo = {\n    id: artist.id,\n    name: artist.name,\n    alias: artist.alias.length ? artist.alias.join(\"/\") : \"\",\n    picUrl: artist.img1v1Url,\n    musicSize: artist.musicSize,\n    albumSize: artist.albumSize,\n    mvSize: artist.mvSize,\n  };\n\n  const top50 = hotSongs.map((song: any) => ({\n    id: song.id,\n    name: song.name,\n    picUrl: song.al.picUrl,\n    alias: song.alia.length ? song.alia.join(\"/\") : \"\",\n    artists: song.ar.map((item: Artist) => ({ id: item.id, name: item.name })),\n    album: { id: song.al.id, name: song.al.name },\n    sq: song.st === 1,\n    duration: song.dt,\n    durationStr: formatDuration(song.dt),\n    mvId: song.mv,\n  }));\n\n  return {\n    singerInfo,\n    top50,\n  };\n};\n\nexport const convertSingerAlbums = (res: AxiosResponse) => {\n  const { hotAlbums, more } = res.data;\n\n  const convertAlbums = hotAlbums.map((album: any) => ({\n    id: album.id,\n    name: album.name,\n    picUrl: album.picUrl,\n    publishTime: formatDate(album.publishTime, \"YYYY-MM-dd\"),\n  }));\n\n  return { albums: convertAlbums, more };\n};\n\nexport const convertAlbumSongs = (res: AxiosResponse) => {\n  const { songs } = res.data;\n\n  return songs.map((song: any) => ({\n    id: song.id,\n    name: song.name,\n    picUrl: song.al.picUrl,\n    alias: song.alia.length ? song.alia.join(\"/\") : \"\",\n    artists: song.ar.map((item: Artist) => ({ id: item.id, name: item.name })),\n    album: { id: song.al.id, name: song.al.name },\n    sq: song.st === 1,\n    duration: song.dt,\n    durationStr: formatDuration(song.dt),\n    mvId: song.mv,\n  }));\n};\n\nexport const convertSingerMvs = (res: AxiosResponse) => {\n  const { mvs } = res.data;\n  if (!mvs || !mvs.length) return;\n\n  return mvs.map((mv: any) => ({\n    id: mv.id,\n    name: mv.name,\n    picUrl: mv.imgurl16v9,\n    duration: mv.duration,\n    durationStr: formatDuration(mv.duration),\n    playCount: translateCount(mv.playCount),\n  }));\n};\n\nexport const convertSingerDesc = (res: AxiosResponse) => {\n  const { introduction, briefDesc } = res.data;\n\n  if (!introduction || !introduction.length) {\n    return [{ title: \"歌手简介\", textArr: [briefDesc] }];\n  }\n\n  return introduction.map((desc: any) => ({\n    title: desc.ti,\n    textArr: desc.txt.split(\"\\n\"),\n  }));\n};\n\nexport const convertSimiSinger = (res: AxiosResponse) => {\n  const { artists } = res.data;\n  if (!artists || !artists.length) return;\n\n  return artists.map((item: any) => ({\n    id: item.id,\n    name: item.name,\n    picUrl: item.img1v1Url,\n  }));\n};\n","import {\n  convertAlbumSongs,\n  convertSimiSinger,\n  convertSingerAlbums,\n  convertSingerDesc,\n  convertSingerInfo,\n  convertSingerList,\n  convertSingerMvs,\n} from \"./convert\";\nimport { getRequest } from \"../request\";\nimport { SINGER_LIMIT, SINGER_ALBUM_LIMIT } from \"@/utils/constant\";\n\nconst REQUEST_URL = {\n  singerList: \"/artist/list\",\n  singerInfo: \"/artists\",\n  singerMvs: \"/artist/mv\",\n  singerDesc: \"/artist/desc\",\n  simiSinger: \"/simi/artist\",\n  singerAlbums: \"/artist/album\",\n  albumSongs: \"/album\",\n};\n\nexport const getSingerListData = (\n  area: number,\n  type: number,\n  initial: string,\n  currentPage: number\n) => {\n  return getRequest(REQUEST_URL.singerList, {\n    area,\n    type,\n    initial,\n    limit: SINGER_LIMIT,\n    offset: (currentPage - 1) * SINGER_LIMIT,\n  }).then(convertSingerList);\n};\n\nexport const getSingerInfoData = (id: number) => {\n  return getRequest(REQUEST_URL.singerInfo, { id }).then(convertSingerInfo);\n};\n\nexport const getSingerAlbumsData = (id: number, currentPage: number) => {\n  return getRequest(REQUEST_URL.singerAlbums, {\n    id,\n    limit: SINGER_ALBUM_LIMIT,\n    offset: (currentPage - 1) * SINGER_ALBUM_LIMIT,\n  }).then(convertSingerAlbums);\n};\n\nexport const getAlbumSongsData = (id: number) => {\n  return getRequest(REQUEST_URL.albumSongs, { id }).then(convertAlbumSongs);\n};\n\nexport const getSingerMvsData = (id: number) => {\n  return getRequest(REQUEST_URL.singerMvs, { id }).then(convertSingerMvs);\n};\n\nexport const getSingerDescData = (id: number) => {\n  return getRequest(REQUEST_URL.singerDesc, { id }).then(convertSingerDesc);\n};\n\nexport const getSimiSingerData = (id: number) => {\n  return getRequest(REQUEST_URL.simiSinger, { id }).then(convertSimiSinger);\n};\n","import { MVLIST_LIMIT } from \"@/utils/constant\";\nimport { formatDate, formatDuration, translateCount } from \"@/utils/utils\";\nimport { AxiosResponse } from \"axios\";\nimport {\n  getMvUrlData,\n  getMvZanData,\n  getVideoUrlData,\n  getVideoZanData,\n} from \".\";\nimport { getSingerInfoData } from \"../singer\";\n\nexport const convertMvlist = (res: AxiosResponse) => {\n  const { data, count } = res.data;\n  if (!data || !data.length) return;\n\n  const mvs: Mv[] = data.map((mv: Mv) => ({\n    id: mv.id,\n    name: mv.name,\n    picUrl: mv.cover,\n    artistId: mv.artistId,\n    artistName: mv.artistName,\n    durationStr: formatDuration(mv.duration),\n    playCount: translateCount(mv.playCount),\n  }));\n\n  const total = count || 0;\n  return {\n    mvs,\n    total,\n    pageCount:\n      total % MVLIST_LIMIT\n        ? Math.floor(total / MVLIST_LIMIT) + 1\n        : total / MVLIST_LIMIT,\n  };\n};\n\nexport const convertMvDetail = async (res: AxiosResponse) => {\n  const { data } = res.data;\n  if (!data) return;\n\n  const { singerInfo } = await getSingerInfoData(data.artistId);\n  const {\n    data: { likedCount },\n  } = await getMvZanData(data.id);\n  const {\n    data: {\n      data: { url },\n    },\n  } = await getMvUrlData(data.id);\n\n  return {\n    id: data.id,\n    name: data.name,\n    url,\n    likedCount,\n    avatarUrl: singerInfo.picUrl,\n    creatorName: data.artistName,\n    posterUrl: data.cover,\n    publishTime: data.publishTime,\n    subCount: data.subCount,\n    shareCount: data.shareCount,\n    playCount: translateCount(data.playCount),\n    desc: data.desc || \"\",\n    videoGroup: data.videoGroup,\n  };\n};\n\nexport const convertVideoDetail = async (res: AxiosResponse) => {\n  const { data } = res.data;\n  if (!data) return;\n\n  const {\n    data: { likedCount },\n  } = await getVideoZanData(data.vid);\n  const {\n    data: { urls },\n  } = await getVideoUrlData(data.vid);\n\n  return {\n    id: data.vid,\n    name: data.title,\n    url: urls[0].url,\n    likedCount,\n    avatarUrl: data.creator.avatarUrl,\n    creatorName: data.creator.nickname,\n    posterUrl: data.coverUrl,\n    publishTime: formatDate(data.publishTime, \"YYYY-MM-dd\"),\n    subCount: data.subscribeCount,\n    shareCount: data.shareCount,\n    playCount: translateCount(data.playTime),\n    desc: data.description || \"\",\n    videoGroup: data.videoGroup,\n  };\n};\n\nexport const convertRelatedVideo = (res: AxiosResponse) => {\n  const { data } = res.data;\n  if (!data || !data.length) return;\n\n  return data.map((video: any) => ({\n    id: video.vid,\n    title: video.title,\n    creator: video.creator[0].userName,\n    coverUrl: video.coverUrl,\n    playCount: translateCount(video.playTime),\n    durationStr: formatDuration(video.durationms),\n  }));\n};\n","import { COMMENT_LIMIT, MVLIST_LIMIT } from \"@/utils/constant\";\nimport { convertComment } from \"../convertComment\";\nimport { getRequest } from \"../request\";\nimport {\n  convertMvDetail,\n  convertMvlist,\n  convertRelatedVideo,\n  convertVideoDetail,\n} from \"./convert\";\n\nconst REQUEST_URL = {\n  mvList: \"/mv/all\",\n  related: \"/related/allvideo\",\n\n  mvDetail: \"/mv/detail\",\n  mvZan: \"/mv/detail/info\",\n  mvUrl: \"/mv/url\",\n  mvComment: \"/comment/mv\",\n\n  videoDetail: \"/video/detail\",\n  videoZan: \"/video/detail/info\",\n  videoUrl: \"/video/url\",\n  videoComment: \"/comment/video\",\n};\n\nexport const getMvListData = (\n  area: string,\n  type: string,\n  order: string,\n  currentPage: number\n) => {\n  return getRequest(REQUEST_URL.mvList, {\n    area,\n    type,\n    order,\n    limit: MVLIST_LIMIT,\n    offset: (currentPage - 1) * MVLIST_LIMIT,\n  }).then(convertMvlist);\n};\n\nexport const getMvDetailData = (id: string) => {\n  return getRequest(REQUEST_URL.mvDetail, { mvid: id }).then(convertMvDetail);\n};\n\nexport const getVideoDetailData = (id: string) => {\n  return getRequest(REQUEST_URL.videoDetail, { id }).then(convertVideoDetail);\n};\n\nexport const getMvZanData = (id: string) => {\n  return getRequest(REQUEST_URL.mvZan, { mvid: id });\n};\n\nexport const getVideoZanData = (id: string) => {\n  return getRequest(REQUEST_URL.videoZan, { vid: id });\n};\n\nexport const getMvUrlData = (id: string) => {\n  return getRequest(REQUEST_URL.mvUrl, { id });\n};\n\nexport const getVideoUrlData = (id: string) => {\n  return getRequest(REQUEST_URL.videoUrl, { id });\n};\n\nexport const getMvCommentData = (id: string, currentPage: number) => {\n  return getRequest(REQUEST_URL.mvComment, {\n    id,\n    limit: COMMENT_LIMIT,\n    offset: (currentPage - 1) * COMMENT_LIMIT,\n  }).then(convertComment);\n};\n\nexport const getVideoCommentData = (id: string, currentPage: number) => {\n  return getRequest(REQUEST_URL.videoComment, {\n    id,\n    limit: COMMENT_LIMIT,\n    offset: (currentPage - 1) * COMMENT_LIMIT,\n  }).then(convertComment);\n};\n\nexport const getRelatedVideoData = (id: string) => {\n  return getRequest(REQUEST_URL.related, { id }).then(convertRelatedVideo);\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CommentBox.vue?vue&type=style&index=0&id=2fead7f8&lang=scss&scoped=true\"","<template>\n  <div class=\"comment-box\">\n    <textarea\n      class=\"box-input\"\n      rows=\"4\"\n      maxlength=\"140\"\n      @keyup=\"handleCalcRestWord\"\n      ref=\"commentInput\"\n    />\n    <span class=\"input-rest\">{{ inputRestWord }}</span>\n    <div class=\"box-options\">\n      <div class=\"options-left\">\n        <i class=\"iconfont icon-emotional\" />\n        <i class=\"iconfont icon-at\" />\n        <i class=\"iconfont icon-well\" />\n      </div>\n      <div class=\"options-right\">评论</div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { debounce } from \"@/utils/utils\";\nimport { defineComponent, ref } from \"vue\";\n\nexport default defineComponent({\n  setup() {\n    // 处理剩余字数\n    const inputRestWord = ref(140);\n    const commentInput = ref<HTMLTextAreaElement | null>(null);\n    const calcWord = () => {\n      const text = commentInput.value.value;\n      const english = text.match(/[a-zA-Z]/g)?.length || 0;\n      const chinese = text.length - english;\n      inputRestWord.value = Math.floor(140 - english / 2 - chinese);\n    };\n    const handleCalcRestWord = debounce(calcWord, 300);\n\n    return {\n      inputRestWord,\n      commentInput,\n      handleCalcRestWord,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.comment-box {\n  position: relative;\n  .box-input {\n    width: 100%;\n    padding: 10px;\n    margin-bottom: 10px;\n    border: 1px solid #e1e1e1;\n    border-radius: 8px;\n    box-sizing: border-box;\n    outline: none;\n    color: #333;\n    resize: none;\n  }\n\n  .input-rest {\n    position: absolute;\n    top: 5em;\n    right: 0.6em;\n    font-size: 12px;\n    color: #666;\n  }\n\n  .box-options {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    .options-left {\n      .iconfont {\n        margin-right: 6px;\n        font-size: 24px;\n        color: #444;\n        cursor: pointer;\n      }\n    }\n\n    .options-right {\n      padding: 8px 16px;\n      color: #666;\n      border: 1px solid #e1e1e1;\n      border-radius: 25px;\n      font-size: 14px;\n    }\n  }\n}\n</style>\n","\nimport { debounce } from \"@/utils/utils\";\nimport { defineComponent, ref } from \"vue\";\n\nexport default defineComponent({\n  setup() {\n    // 处理剩余字数\n    const inputRestWord = ref(140);\n    const commentInput = ref<HTMLTextAreaElement | null>(null);\n    const calcWord = () => {\n      const text = commentInput.value.value;\n      const english = text.match(/[a-zA-Z]/g)?.length || 0;\n      const chinese = text.length - english;\n      inputRestWord.value = Math.floor(140 - english / 2 - chinese);\n    };\n    const handleCalcRestWord = debounce(calcWord, 300);\n\n    return {\n      inputRestWord,\n      commentInput,\n      handleCalcRestWord,\n    };\n  },\n});\n","import { render } from \"./CommentBox.vue?vue&type=template&id=2fead7f8&scoped=true\"\nimport script from \"./CommentBox.vue?vue&type=script&lang=ts\"\nexport * from \"./CommentBox.vue?vue&type=script&lang=ts\"\n\nimport \"./CommentBox.vue?vue&type=style&index=0&id=2fead7f8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2fead7f8\"\n\nexport default script"],"sourceRoot":""}