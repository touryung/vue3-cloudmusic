(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76709f9e"],{"12a8":function(e,t,n){"use strict";n("9376")},"2b2a":function(e,t,n){},"2bad":function(e,t,n){"use strict";n("fd60")},9062:function(e,t,n){"use strict";n.r(t);n("b64b");var a=n("7a23"),c=Object(a["M"])("data-v-264a68b6");Object(a["v"])("data-v-264a68b6");var i={class:"rank"},r=Object(a["i"])("h1",{class:"rank-type"},"官方榜",-1),l={class:"rank-official"},s=Object(a["i"])("h1",{class:"rank-type"},"全球榜",-1),o={class:"rank-global"};Object(a["t"])();var b=c((function(e,t,n,c,b,u){var d=Object(a["B"])("OfficialItem"),j=Object(a["B"])("SingerRank"),f=Object(a["B"])("GlobalItem"),O=Object(a["C"])("loading");return Object(a["L"])((Object(a["s"])(),Object(a["e"])("div",i,[r,Object(a["i"])("div",l,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(e.officialRanks,(function(e){return Object(a["s"])(),Object(a["e"])(d,{key:e.id,officialRank:e},null,8,["officialRank"])})),128)),Object.keys(e.singerRank).length?(Object(a["s"])(),Object(a["e"])(j,{key:0,singerRank:e.singerRank},null,8,["singerRank"])):Object(a["f"])("",!0)]),s,Object(a["i"])("div",o,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(e.globalRanks,(function(e){return Object(a["s"])(),Object(a["e"])(f,{key:e.id,globalRank:e},null,8,["globalRank"])})),128))])],512)),[[O,e.isLoading]])})),u=n("5530"),d=n("1da1"),j=(n("96cf"),n("b0c0"),n("99af"),Object(a["M"])("data-v-571a7058"));Object(a["v"])("data-v-571a7058");var f={class:"official-item"},O={class:"official-cover"},p={class:"cover-time"},v=Object(a["i"])("div",{class:"cover-decorate"},[Object(a["i"])("i",{class:"iconfont icon-play"})],-1),g={class:"official-list"},k={class:"item-left"},m=Object(a["i"])("span",{class:"left-split"},"-",-1),h={class:"item-right"},R=Object(a["h"])(" 查看全部"),y=Object(a["i"])("i",{class:"iconfont icon-right"},null,-1);Object(a["t"])();var S=j((function(e,t,n,c,i,r){return Object(a["s"])(),Object(a["e"])("div",f,[Object(a["i"])("div",O,[Object(a["i"])("div",{class:"cover-filter",style:{background:"url(".concat(e.officialRank.backgroundImgUrl,")"),backgroundSize:"cover"}},null,4),Object(a["i"])("div",p,Object(a["E"])(e.officialRank.updateTime)+"更新",1),Object(a["i"])("img",{src:e.officialRank.coverImgUrl,alt:""},null,8,["src"]),v]),Object(a["i"])("div",g,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(e.officialRank.songs,(function(t,n){return Object(a["s"])(),Object(a["e"])("div",{class:"list-item",key:t.id,onDblclick:function(t){return e.handlePlaySong(n)}},[Object(a["i"])("div",k,[Object(a["i"])("span",{class:["left-index",n<=2?"top":""]},Object(a["E"])(n+1),3),m,Object(a["i"])("span",null,Object(a["E"])(t.name),1)]),Object(a["i"])("span",h,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(t.artists,(function(e,n){return Object(a["s"])(),Object(a["e"])("span",{key:e.id},Object(a["E"])("".concat(e.name).concat(n===t.artists.length-1?"":" / ")),1)})),128))])],40,["onDblclick"])})),128)),Object(a["i"])("span",{class:"more",onClick:t[1]||(t[1]=function(){return e.handleShowDetail&&e.handleShowDetail.apply(e,arguments)})},[R,y])])])})),w=n("984b"),I=n("6c02"),U=Object(a["j"])({props:{officialRank:{type:Object,default:function(){return{}}}},setup:function(e){var t=Object(I["e"])(),n=function(t){w["a"].changeCurrentSongQueue(e.officialRank.songs),w["a"].changeCurrentIndex(t)},a=function(){return t.push("/playlist/".concat(e.officialRank.id))};return{handlePlaySong:n,handleShowDetail:a}}});n("cbd8");U.render=S,U.__scopeId="data-v-571a7058";var x=U,C=Object(a["M"])("data-v-4ccd60b0");Object(a["v"])("data-v-4ccd60b0");var M={class:"singer"},D={class:"singer-cover"},E={class:"cover-time"},T=Object(a["i"])("div",{class:"cover-decorate"},[Object(a["i"])("i",{class:"iconfont icon-play"})],-1),_={class:"singer-list"},z={class:"item-left"},B=Object(a["i"])("span",{class:"left-split"},"-",-1),L=Object(a["h"])(" 查看全部"),G=Object(a["i"])("i",{class:"iconfont icon-right"},null,-1);Object(a["t"])();var J=C((function(e,t,n,c,i,r){return Object(a["s"])(),Object(a["e"])("div",M,[Object(a["i"])("div",D,[Object(a["i"])("div",{class:"cover-filter",style:{background:"url(".concat(e.singerRank.backgroundImgUrl,")"),backgroundSize:"cover"}},null,4),Object(a["i"])("div",E,Object(a["E"])(e.singerRank.updateTime)+"更新",1),Object(a["i"])("img",{src:e.singerRank.coverImgUrl,alt:""},null,8,["src"]),T]),Object(a["i"])("div",_,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(e.singerRank.artists,(function(t,n){return Object(a["s"])(),Object(a["e"])("div",{class:"list-item",key:t.id,onClick:function(n){return e.handleShowSingerDetail(t.id)}},[Object(a["i"])("div",z,[Object(a["i"])("span",{class:["left-index",n<=2?"top":""]},Object(a["E"])(n+1),3),B,Object(a["i"])("span",null,Object(a["E"])(t.name),1)])],8,["onClick"])})),128)),Object(a["i"])("span",{class:"more",onClick:t[1]||(t[1]=function(){return e.handleShowMoreSinger&&e.handleShowMoreSinger.apply(e,arguments)})},[L,G])])])})),P=Object(a["j"])({props:{singerRank:{type:Object,default:function(){return{}}}},setup:function(){var e=Object(I["e"])(),t=function(t){return e.push("/singer/".concat(t))},n=function(){return e.push("/singer")};return{handleShowSingerDetail:t,handleShowMoreSinger:n}}});n("12a8");P.render=J,P.__scopeId="data-v-4ccd60b0";var q=P,F=Object(a["M"])("data-v-102b9f7c");Object(a["v"])("data-v-102b9f7c");var Q={class:"global-top"},A={class:"top-count"},H=Object(a["i"])("i",{class:"iconfont icon-playlist-play"},null,-1),K=Object(a["i"])("div",{class:"top-decorate"},[Object(a["i"])("i",{class:"iconfont icon-play"})],-1),N={class:"global-bottom"};Object(a["t"])();var V=F((function(e,t,n,c,i,r){return Object(a["s"])(),Object(a["e"])("div",{class:"global-item",onClick:t[1]||(t[1]=function(){return e.handleShowDetail&&e.handleShowDetail.apply(e,arguments)})},[Object(a["i"])("div",Q,[Object(a["i"])("img",{src:e.globalRank.coverImgUrl},null,8,["src"]),Object(a["i"])("div",A,[H,Object(a["i"])("span",null,Object(a["E"])(e.globalRank.playCount),1)]),K]),Object(a["i"])("p",N,Object(a["E"])(e.globalRank.name),1)])})),W=Object(a["j"])({props:{globalRank:{type:Object,default:function(){return{}}}},setup:function(e){Object(I["e"])();var t=function(){return alert("歌单详情")};return{handleShowDetail:t}}});n("2bad");W.render=V,W.__scopeId="data-v-102b9f7c";var X=W,Y=n("dbe5"),Z=n("b85c"),$=(n("d81d"),n("fb6a"),n("73ec")),ee=function(e){var t=e.data.playlist;if(!t)return[];var n,a=[],c=t.tracks,i=Object(Z["a"])(c);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(5===a.length)return a;a.push({id:r.id,name:r.name,picUrl:r.al.picUrl,artists:r.ar.map((function(e){return{id:e.id,name:e.name}})),album:{id:r.al.id,name:r.al.name},duration:r.dt})}}catch(l){i.e(l)}finally{i.f()}},te=function(e){var t=e.data.list,n=t.artists,a=t.updateTime;if(n&&a){var c,i=[],r=Object(Z["a"])(n);try{for(r.s();!(c=r.n()).done;){var l=c.value;if(5===i.length)return{artists:i,updateTime:a};i.push({id:l.id,name:l.name,picUrl:l.img1v1Url})}}catch(s){r.e(s)}finally{r.f()}}},ne=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var n,a,c,i,r,l,s,o,b,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.data,a=n.list,c=n.artistToplist,a){e.next=3;break}return e.abrupt("return",[]);case 3:i=[],r=0;case 5:if(!(r<a.length)){e.next=18;break}if(l=a[r],s=[],o="",!(r<4)){e.next=14;break}return e.next=12,ce(l.id);case 12:s=e.sent,o=s[0].picUrl;case 14:i.push({id:l.id,name:l.name,coverImgUrl:l.coverImgUrl,updateTime:Object($["b"])(l.updateTime,"MM月dd日"),playCount:Object($["e"])(l.playCount),songs:s,backgroundImgUrl:o});case 15:r++,e.next=5;break;case 18:return e.next=20,ie();case 20:return b=e.sent,u=b.artists,d=b.updateTime,e.abrupt("return",{officialRanks:i.slice(0,4),globalRanks:i.slice(4),singerRank:{coverImgUrl:c.coverUrl,backgroundImgUrl:u[0].picUrl,updateTime:Object($["b"])(d,"MM月dd日"),artists:u}});case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae={rankSongs:"/playlist/detail",rankSinger:"/toplist/artist",ranks:"/toplist"},ce=function(e){return Object(Y["a"])(ae.rankSongs,{id:e}).then(ee)},ie=function(){return Object(Y["a"])(ae.rankSinger).then(te)},re=function(){return Object(Y["a"])(ae.ranks).then(ne)},le=Object(a["j"])({components:{OfficialItem:x,SingerRank:q,GlobalItem:X},setup:function(){var e=Object(a["x"])(!1),t=Object(a["w"])({officialRanks:[],globalRanks:[],singerRank:{}}),n=function(){var n=Object(d["a"])(regeneratorRuntime.mark((function n(){var a,c,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.value=!0,n.next=3,re();case 3:a=n.sent,c=a.officialRanks,i=a.globalRanks,r=a.singerRank,t.officialRanks=c,t.globalRanks=i,t.singerRank=r,e.value=!1;case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(a["q"])((function(){return n()})),Object(u["a"])({isLoading:e},Object(a["F"])(t))}});n("eeea");le.render=b,le.__scopeId="data-v-264a68b6";t["default"]=le},9376:function(e,t,n){},b869:function(e,t,n){},cbd8:function(e,t,n){"use strict";n("b869")},eeea:function(e,t,n){"use strict";n("2b2a")},fd60:function(e,t,n){}}]);
//# sourceMappingURL=chunk-76709f9e.0e78f145.js.map