{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./src/views/playlist/Index.tsx","webpack:///./src/components/playlist-item/Index.vue?4e8b","webpack:///./node_modules/core-js/modules/es.string.sub.js","webpack:///./src/components/playlist-item/Index.vue","webpack:///./src/components/playlist-item/Index.vue?88f4","webpack:///./src/components/playlist-item/Index.vue?2639","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./src/views/playlist/index.module.scss?987b","webpack:///./src/store/modules/playlist.ts","webpack:///./src/api/playlist/convert.ts","webpack:///./src/api/playlist/index.ts"],"names":["$","$values","values","target","stat","O","components","PlayListItem","setup","props","emit","router","isLoading","isShowCategoryDialog","activeCategory","currentHighQuality","categories","hotCategory","tags","allCategory","all","sub","directive","value","arg","currentPlaylist","paginData","currentPage","totalPageCount","initPlaylist","getHighQualityList","playlists","pageCount","initCategory","handleToggleDialog","handleChangeCategory","newCategory","changeActiveCategory","handleShowHighQuality","push","handlePageChange","renderCategoryList","category","Object","iconArr","map","item","i","categoryItem","categoryItemLeft","categoryItemRight","renderCategoryListItem","key","subList","filter","name","active","hot","renderHotCategory","hotCategoryTag","id","renderPlayList","playlistItem","playlist","length","highQuality","decorator","background","picUrl","mask","desc","info","infoTag","infoName","infoCopyWrite","copywriter","main","mainHeader","categoryBtn","categoryList","display","mainContent","createHTML","forcedStringHTMLMethod","proto","forced","this","class","handleShowDetails","src","playCount","nickName","type","default","render","__scopeId","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","keys","result","call","module","exports","entries","requireObjectCoercible","quot","string","tag","attribute","S","String","p1","replace","fails","METHOD_NAME","test","toLowerCase","split","Playlist","list","then","changeHighQuality","dynamic","namespaced","store","playlistStore","convertCategory","res","data","total","convertPlaylists","coverImgUrl","creator","nickname","Math","floor","convertPlaylistDetail","trackIds","createTime","trackCount","subscribedCount","shareCount","commentCount","description","userId","avatarUrl","ids","track","join","convertSongs","songs","song","al","alias","alia","artists","ar","album","sq","st","duration","dt","durationStr","mvId","mv","subDescription","slice","REQUEST_URL","detail","comment","songDetail","cat","limit","offset","convertComment"],"mappings":"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","file":"js/chunk-836156e6.21a4ac29.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","import { computed, defineComponent, onMounted, reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\n\nimport {\n  getHotCategoryData,\n  getAllCategoryData,\n  getPlaylistData,\n} from \"@/api/playlist/index\";\nimport { playlistStore } from \"@/store/modules/playlist\";\n\nimport PlayListItem from \"@/components/playlist-item/Index.vue\";\nimport Pagin from \"@/components/pagin/Index.vue\";\nimport styles from \"./index.module.scss\";\n\nexport default defineComponent({\n  components: {\n    PlayListItem,\n  },\n  setup(props, { emit }) {\n    /**\n     * 数据区\n     */\n    const router = useRouter();\n    const isLoading = ref<boolean>(false);\n    // 是否显示选择框\n    const isShowCategoryDialog = ref<boolean>(false);\n    const activeCategory = computed<string>(() => playlistStore.activeCategory);\n    const currentHighQuality = computed<PlayListItem[]>(\n      () => playlistStore.currentHighQuality\n    );\n    const categories = reactive({\n      hotCategory: { tags: [] },\n      allCategory: { all: {}, categories: {}, sub: [] },\n    });\n    const directive = {\n      value: () => (isShowCategoryDialog.value = false),\n      arg: \"playlist-all\",\n    };\n    const currentPlaylist = ref<PlayListItem[]>([]);\n    const paginData = { currentPage: 1, totalPageCount: 0 };\n\n    /**\n     * 初始化区\n     */\n    const initPlaylist = async () => {\n      isLoading.value = true;\n      // 异步获取精品歌单数据\n      playlistStore.getHighQualityList(activeCategory.value);\n      // 同步获取下方歌单数据\n      const { playlists, pageCount } = await getPlaylistData(\n        activeCategory.value,\n        paginData.currentPage\n      );\n      currentPlaylist.value = playlists;\n      paginData.totalPageCount = pageCount;\n\n      isLoading.value = false;\n    };\n\n    // 初始化分类数据\n    const initCategory = async () => {\n      categories.hotCategory = await getHotCategoryData();\n      categories.allCategory = await getAllCategoryData();\n\n      await initPlaylist();\n    };\n\n    onMounted(() => initCategory());\n\n    /**\n     * 处理函数区\n     */\n    const handleToggleDialog = () => {\n      isShowCategoryDialog.value = !isShowCategoryDialog.value;\n    };\n\n    // 切换分类\n    const handleChangeCategory = (newCategory = \"\") => {\n      playlistStore.changeActiveCategory(newCategory);\n      initPlaylist();\n    };\n\n    const handleShowHighQuality = () => router.push(\"/highQuality\");\n\n    const handlePageChange = (currentPage: number) => {\n      emit(\"pagin-change\");\n      paginData.currentPage = currentPage;\n      initPlaylist();\n    };\n\n    // 渲染整个分类标签\n    const renderCategoryList = () => {\n      const category: Array<string> = Object.values(\n        categories.allCategory.categories\n      );\n      const iconArr: Array<string> = [\n        \"languages\",\n        \"style\",\n        \"scene\",\n        \"emotional\",\n        \"theme-list\",\n      ];\n\n      return category.map((item: string, i: number) => (\n        <li class={styles.categoryItem} key={`category${i}`}>\n          <div class={styles.categoryItemLeft}>\n            <i class={`iconfont icon-${iconArr[i]}`} />\n            <span>{item}</span>\n          </div>\n          <div class={styles.categoryItemRight}>\n            {renderCategoryListItem(i)}\n          </div>\n        </li>\n      ));\n    };\n\n    // 渲染某一大类的标签\n    const renderCategoryListItem = (key: number) => {\n      const subList = categories.allCategory.sub.filter(\n        (item) => item.category === key\n      );\n\n      return subList.map((item) => (\n        <div>\n          <span\n            class={`${\n              item.name === activeCategory.value ? styles.active : \"\"\n            } ${item.hot ? styles.hot : \"\"}`}\n            key={item.name}\n            onClick={() => handleChangeCategory(item.name)}\n          >\n            {item.name}\n          </span>\n        </div>\n      ));\n    };\n\n    // 渲染右侧热门标签\n    const renderHotCategory = () => {\n      return categories.hotCategory.tags.map((item) => (\n        <span\n          class={`${item.name === activeCategory.value ? styles.active : \"\"} ${\n            styles.hotCategoryTag\n          }`}\n          key={item.id}\n          onClick={() => handleChangeCategory(item.name)}\n        >\n          {item.name}\n        </span>\n      ));\n    };\n\n    // 渲染下方歌单\n    const renderPlayList = () => {\n      return currentPlaylist.value.map((playlistItem) => (\n        <PlayListItem playlistItem={playlistItem} />\n      ));\n    };\n\n    return () => (\n      <div class={styles.playlist} v-loading={isLoading}>\n        {currentHighQuality.value.length ? (\n          <header class={styles.highQuality} onClick={handleShowHighQuality}>\n            {/* 背景图 */}\n            <div\n              class={styles.decorator}\n              style={{\n                background: `url(${currentHighQuality.value[0].picUrl})`,\n              }}\n            />\n            {/* 背景遮罩 */}\n            <div class={styles.mask} />\n            <div class={styles.desc}>\n              <img src={currentHighQuality.value[0].picUrl} alt=\"\" />\n              {/* 右侧部分 */}\n              <div class={styles.info}>\n                <div class={styles.infoTag}>\n                  <i class=\"iconfont icon-choiceness\" />\n                  <span>精品歌单</span>\n                </div>\n                <div class={styles.infoName}>\n                  {currentHighQuality.value[0].name}\n                </div>\n                <div class={styles.infoCopyWrite}>\n                  {currentHighQuality.value[0].copywriter}\n                </div>\n              </div>\n            </div>\n          </header>\n        ) : null}\n        <main class={styles.main}>\n          <div class={styles.mainHeader}>\n            <div class={styles.category}>\n              {/* 选择框按钮 */}\n              <div\n                id=\"playlist-all\"\n                class={styles.categoryBtn}\n                onClick={handleToggleDialog}\n              >\n                <span>全部歌单</span>\n                <i class=\"iconfont icon-right\" />\n              </div>\n              {/* 模态选择框 */}\n              <ul\n                class={styles.categoryList}\n                style={{\n                  display: isShowCategoryDialog.value ? \"block\" : \"none\",\n                }}\n                v-outside={directive}\n              >\n                <li class={`${styles.categoryItem} ${styles.all}`}>\n                  <span\n                    class={activeCategory.value ? \"\" : styles.active}\n                    onClick={() => handleChangeCategory()}\n                  >\n                    全部歌单\n                  </span>\n                </li>\n                {renderCategoryList()}\n              </ul>\n            </div>\n            {/* 右侧热门标签 */}\n            <div class={styles.hotCategory}>{renderHotCategory()}</div>\n          </div>\n          {/* 歌单展示部分 */}\n          <div class={styles.mainContent}>{renderPlayList()}</div>\n          {/* 分页器部分 */}\n          <Pagin\n            totalPageCount={paginData.totalPageCount}\n            pagerCount={9}\n            currentPage={paginData.currentPage}\n            onPageChange={handlePageChange}\n          />\n        </main>\n      </div>\n    );\n  },\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=60d78cd7&lang=scss&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.sub` method\n// https://tc39.es/ecma262/#sec-string.prototype.sub\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sub') }, {\n  sub: function sub() {\n    return createHTML(this, 'sub', '', '');\n  }\n});\n","<template>\n  <div class=\"playlist-item\" @click=\"handleShowDetails\">\n    <div class=\"item-top\">\n      <img :src=\"playlistItem.picUrl\" />\n      <div class=\"top-count\">\n        <i class=\"iconfont icon-playlist-play\" />\n        <span>{{ playlistItem.playCount }}</span>\n      </div>\n      <div class=\"top-author\" v-if=\"playlistItem.nickName\">\n        <i class=\"iconfont icon-user\" />\n        <span>{{ playlistItem.nickName }}</span>\n      </div>\n    </div>\n    <p class=\"item-bottom\">{{ playlistItem.name }}</p>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport { useRouter } from \"vue-router\";\n\nexport default defineComponent({\n  props: {\n    playlistItem: {\n      type: Object as PropType<PlayListItem>,\n      default: () => ({}),\n    },\n  },\n  setup(props) {\n    const router = useRouter();\n\n    const handleShowDetails = () =>\n      router.push(`/playlist/${(props.playlistItem as PlayListItem).id}`);\n\n    return {\n      handleShowDetails,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.playlist-item {\n  flex: 0 0 18.5%;\n  margin-bottom: 20px;\n  cursor: pointer;\n\n  .item-top {\n    position: relative;\n\n    > img {\n      width: 100%;\n    }\n\n    .top-count {\n      position: absolute;\n      top: 4px;\n      right: 8px;\n      color: #fff;\n    }\n\n    .top-author {\n      position: absolute;\n      bottom: 8px;\n      left: 8px;\n      color: #fff;\n    }\n  }\n\n  .item-bottom {\n    height: 48px;\n    line-height: 1.5;\n    @include multipleNoWrap(2);\n  }\n}\n</style>\n","\nimport { defineComponent, PropType } from \"vue\";\nimport { useRouter } from \"vue-router\";\n\nexport default defineComponent({\n  props: {\n    playlistItem: {\n      type: Object as PropType<PlayListItem>,\n      default: () => ({}),\n    },\n  },\n  setup(props) {\n    const router = useRouter();\n\n    const handleShowDetails = () =>\n      router.push(`/playlist/${(props.playlistItem as PlayListItem).id}`);\n\n    return {\n      handleShowDetails,\n    };\n  },\n});\n","import { render } from \"./Index.vue?vue&type=template&id=60d78cd7&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=60d78cd7&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-60d78cd7\"\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// `CreateHTML` abstract operation\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playlist\":\"index-module-playlist-30bd3496\",\"highQuality\":\"index-module-high-quality-1d8692af\",\"decorator\":\"index-module-decorator-cd29080b\",\"mask\":\"index-module-mask-bda30b33\",\"desc\":\"index-module-desc-9be7fe49\",\"info\":\"index-module-info-7e9e44ec\",\"infoTag\":\"index-module-info-tag-2c50de41\",\"infoName\":\"index-module-info-name-d1b7ce8b\",\"infoCopyWrite\":\"index-module-info-copyWrite-14a182af\",\"main\":\"index-module-main-c3dd0b4b\",\"mainHeader\":\"index-module-main-header-b9b51746\",\"category\":\"index-module-category-a1d2ba69\",\"categoryBtn\":\"index-module-category-btn-4fdfcf7f\",\"categoryList\":\"index-module-category-list-3290b601\",\"categoryItem\":\"index-module-category-item-d4467c3a\",\"categoryItemLeft\":\"index-module-category-item-left-f6311375\",\"categoryItemRight\":\"index-module-category-item-right-a529919d\",\"active\":\"index-module-active-12f6b95d\",\"hot\":\"index-module-hot-32257dc7\",\"all\":\"index-module-all-e39ba804\",\"hotCategory\":\"index-module-hot-category-41511975\",\"hotCategoryTag\":\"index-module-hot-category-tag-48301c53\",\"mainContent\":\"index-module-main-content-7c5b46d8\"};","import {\n  VuexModule,\n  getModule,\n  Module,\n  Mutation,\n  Action,\n} from \"vuex-module-decorators\";\nimport { getHighQualityData } from \"@/api/playlist/index\";\nimport store from \"../index\";\n\n@Module({ dynamic: true, namespaced: true, name: \"playlist\", store })\nclass Playlist extends VuexModule {\n  // 当前选中分类\n  activeCategory = \"\";\n  @Mutation\n  changeActiveCategory(category: string) {\n    this.activeCategory = category;\n  }\n\n  // 当前精品歌单\n  currentHighQuality: PlayListItem[] = [];\n  @Mutation\n  changeHighQuality(list: PlayListItem[]) {\n    this.currentHighQuality = list;\n  }\n\n  /**\n   * 精品歌单不重要，异步加载\n   * @param category\n   */\n  @Action\n  getHighQualityList(category: string) {\n    getHighQualityData(category).then(({ playlists }) => {\n      this.changeHighQuality(playlists);\n    });\n  }\n}\n\nexport const playlistStore = getModule(Playlist);\n","import { formatDate, formatDuration, translateCount } from \"@/utils/utils\";\nimport { PLAYLIST_LIMIT } from \"@/utils/constant\";\nimport { AxiosResponse } from \"axios\";\nimport { getSongsData } from \"./index\";\n\nexport const convertCategory = (res: AxiosResponse) => {\n  return res.data;\n};\n\n// 转换歌单内容\nexport const convertPlaylists = (res: AxiosResponse) => {\n  const { playlists, total } = res.data;\n  const convertPlaylists: PlayListItem[] = playlists.map((list) => ({\n    id: list.id,\n    name: list.name,\n    picUrl: list.coverImgUrl,\n    playCount: translateCount(list.playCount),\n    nickName: list.creator.nickname,\n    copywriter: list.copywriter || \"\",\n    tag: list.tag || \"\",\n  }));\n\n  return {\n    playlists: convertPlaylists,\n    pageCount:\n      total % PLAYLIST_LIMIT\n        ? Math.floor(total / PLAYLIST_LIMIT) + 1\n        : total / PLAYLIST_LIMIT,\n  };\n};\n\nexport const convertPlaylistDetail = async (res: AxiosResponse) => {\n  const {\n    id,\n    name,\n    creator,\n    trackIds,\n    coverImgUrl,\n    createTime,\n    trackCount,\n    playCount,\n    subscribedCount,\n    shareCount,\n    commentCount,\n    tags,\n    description,\n  } = res.data.playlist;\n  const { userId, nickname, avatarUrl } = creator;\n  const ids = trackIds.map((track: any) => track.id).join(\",\");\n  const { data } = await getSongsData(ids);\n  const convertSongs = data.songs.map((song: any) => ({\n    id: song.id,\n    name: song.name,\n    picUrl: song.al.picUrl,\n    alias: song.alia.length ? song.alia.join(\"/\") : \"\",\n    artists: song.ar.map((item: Artist) => ({ id: item.id, name: item.name })),\n    album: { id: song.al.id, name: song.al.name },\n    sq: song.st === 0,\n    duration: song.dt,\n    durationStr: formatDuration(song.dt),\n    mvId: song.mv,\n  }));\n\n  return {\n    id,\n    name,\n    coverImgUrl,\n    userId,\n    nickname,\n    avatarUrl,\n    tags: tags.join(\" / \"),\n    songs: convertSongs,\n    trackCount,\n    commentCount,\n    playCount: translateCount(playCount),\n    subscribedCount: translateCount(subscribedCount),\n    shareCount: translateCount(shareCount),\n    createTime: formatDate(createTime, \"YYYY-MM-dd\"),\n    subDescription: description?.split(\"\\n\")[0] || \"\",\n    description: description?.split(\"\\n\").slice(1).join(\"<br/>\") || \"\",\n  };\n};\n","import { PLAYLIST_LIMIT, COMMENT_LIMIT } from \"@/utils/constant\";\nimport { convertComment } from \"../convertComment\";\nimport { getRequest } from \"../request\";\nimport {\n  convertCategory,\n  convertPlaylists,\n  convertPlaylistDetail,\n} from \"./convert\";\n\nconst REQUEST_URL = {\n  hotCategory: \"/playlist/hot\",\n  allCategory: \"/playlist/catlist\",\n  highQuality: \"/top/playlist/highquality\",\n  playlist: \"/top/playlist\",\n\n  detail: \"/playlist/detail\",\n  comment: \"/comment/playlist\",\n  songDetail: \"/song/detail\",\n};\n\nexport interface PlaylistDetail {\n  id: number;\n  name: string;\n  coverImgUrl: string;\n  userId: number;\n  nickname: string;\n  avatarUrl: string;\n  tags: string;\n  playCount: number | string;\n  subscribedCount: number | string;\n  shareCount: number | string;\n  trackCount: number;\n  commentCount: number;\n  createTime: string;\n  subDescription: string;\n  description: string;\n  songs: Song[];\n}\n\nexport const getHotCategoryData = () => {\n  return getRequest(REQUEST_URL.hotCategory).then(convertCategory);\n};\n\nexport const getAllCategoryData = () => {\n  return getRequest(REQUEST_URL.allCategory).then(convertCategory);\n};\n\nexport const getHighQualityData = (category: string) => {\n  return getRequest(REQUEST_URL.highQuality, { cat: category }).then(\n    convertPlaylists\n  );\n};\n\nexport const getPlaylistData = (category: string, currentPage: number) => {\n  return getRequest(REQUEST_URL.playlist, {\n    cat: category,\n    limit: PLAYLIST_LIMIT,\n    offset: (currentPage - 1) * COMMENT_LIMIT,\n  }).then(convertPlaylists);\n};\n\nexport const getPlaylistDetailData = (id: number) => {\n  return getRequest(REQUEST_URL.detail, { id }).then(convertPlaylistDetail);\n};\n\nexport const getPlaylistCommentData = (id: number, currentPage: number) => {\n  return getRequest(REQUEST_URL.comment, {\n    id,\n    limit: COMMENT_LIMIT,\n    offset: (currentPage - 1) * COMMENT_LIMIT,\n  }).then(convertComment);\n};\n\nexport const getSongsData = (ids: string) => {\n  return getRequest(REQUEST_URL.songDetail, { ids });\n};\n"],"sourceRoot":""}