{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/api/singer/convert.ts","webpack:///./src/api/singer/index.ts","webpack:///./src/views/singer/Index.vue","webpack:///./src/views/singer/Index.vue?47a5","webpack:///./src/views/singer/Index.vue?ee26","webpack:///./src/views/singer/Index.vue?e6ca"],"names":["_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","convertSingerList","res","data","artists","more","ars","map","artist","id","name","picUrl","img1v1Url","singers","hotSongs","singerInfo","alias","length","join","musicSize","albumSize","mvSize","top50","song","al","alia","ar","item","album","sq","st","duration","dt","durationStr","mvId","mv","hotAlbums","convertAlbums","publishTime","albums","songs","mvs","imgurl16v9","playCount","convertSingerDesc","introduction","briefDesc","desc","title","ti","textArr","txt","split","convertSimiSinger","REQUEST_URL","singerList","singerMvs","singerDesc","simiSinger","singerAlbums","albumSongs","area","type","initial","currentPage","limit","offset","then","class","singerAreas","value","key","handleChangeCondition","label","singerTypes","alphaTypes","alpha","handleShowDetail","src","alt","isLoading","setup","router","conditions","getCurrentSingerList","push","document","getElementById","render","__scopeId"],"mappings":"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","file":"js/chunk-5d6b7262.72ca29c0.js","sourcesContent":["import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import { formatDate, formatDuration, translateCount } from \"@/utils/utils\";\nimport { AxiosResponse } from \"axios\";\n\nexport const convertSingerList = (res: AxiosResponse) => {\n  const { artists, more } = res.data;\n  const ars = artists.map((artist: any) => ({\n    id: artist.id,\n    name: artist.name,\n    picUrl: artist.img1v1Url,\n  }));\n\n  return {\n    singers: ars,\n    more,\n  };\n};\n\nexport const convertSingerInfo = (res: AxiosResponse) => {\n  const { artist, hotSongs } = res.data;\n\n  const singerInfo = {\n    id: artist.id,\n    name: artist.name,\n    alias: artist.alias.length ? artist.alias.join(\"/\") : \"\",\n    picUrl: artist.img1v1Url,\n    musicSize: artist.musicSize,\n    albumSize: artist.albumSize,\n    mvSize: artist.mvSize,\n  };\n\n  const top50 = hotSongs.map((song: any) => ({\n    id: song.id,\n    name: song.name,\n    picUrl: song.al.picUrl,\n    alias: song.alia.length ? song.alia.join(\"/\") : \"\",\n    artists: song.ar.map((item: Artist) => ({ id: item.id, name: item.name })),\n    album: { id: song.al.id, name: song.al.name },\n    sq: song.st === 1,\n    duration: song.dt,\n    durationStr: formatDuration(song.dt),\n    mvId: song.mv,\n  }));\n\n  return {\n    singerInfo,\n    top50,\n  };\n};\n\nexport const convertSingerAlbums = (res: AxiosResponse) => {\n  const { hotAlbums, more } = res.data;\n\n  const convertAlbums = hotAlbums.map((album: any) => ({\n    id: album.id,\n    name: album.name,\n    picUrl: album.picUrl,\n    publishTime: formatDate(album.publishTime, \"YYYY-MM-dd\"),\n  }));\n\n  return { albums: convertAlbums, more };\n};\n\nexport const convertAlbumSongs = (res: AxiosResponse) => {\n  const { songs } = res.data;\n\n  return songs.map((song: any) => ({\n    id: song.id,\n    name: song.name,\n    picUrl: song.al.picUrl,\n    alias: song.alia.length ? song.alia.join(\"/\") : \"\",\n    artists: song.ar.map((item: Artist) => ({ id: item.id, name: item.name })),\n    album: { id: song.al.id, name: song.al.name },\n    sq: song.st === 1,\n    duration: song.dt,\n    durationStr: formatDuration(song.dt),\n    mvId: song.mv,\n  }));\n};\n\nexport const convertSingerMvs = (res: AxiosResponse) => {\n  const { mvs } = res.data;\n  if (!mvs || !mvs.length) return;\n\n  return mvs.map((mv: any) => ({\n    id: mv.id,\n    name: mv.name,\n    picUrl: mv.imgurl16v9,\n    duration: mv.duration,\n    durationStr: formatDuration(mv.duration),\n    playCount: translateCount(mv.playCount),\n  }));\n};\n\nexport const convertSingerDesc = (res: AxiosResponse) => {\n  const { introduction, briefDesc } = res.data;\n\n  if (!introduction || !introduction.length) {\n    return [{ title: \"歌手简介\", textArr: [briefDesc] }];\n  }\n\n  return introduction.map((desc: any) => ({\n    title: desc.ti,\n    textArr: desc.txt.split(\"\\n\"),\n  }));\n};\n\nexport const convertSimiSinger = (res: AxiosResponse) => {\n  const { artists } = res.data;\n  if (!artists || !artists.length) return;\n\n  return artists.map((item: any) => ({\n    id: item.id,\n    name: item.name,\n    picUrl: item.img1v1Url,\n  }));\n};\n","import {\n  convertAlbumSongs,\n  convertSimiSinger,\n  convertSingerAlbums,\n  convertSingerDesc,\n  convertSingerInfo,\n  convertSingerList,\n  convertSingerMvs,\n} from \"./convert\";\nimport { getRequest } from \"../request\";\nimport { SINGER_LIMIT, SINGER_ALBUM_LIMIT } from \"@/utils/constant\";\n\nconst REQUEST_URL = {\n  singerList: \"/artist/list\",\n  singerInfo: \"/artists\",\n  singerMvs: \"/artist/mv\",\n  singerDesc: \"/artist/desc\",\n  simiSinger: \"/simi/artist\",\n  singerAlbums: \"/artist/album\",\n  albumSongs: \"/album\",\n};\n\nexport const getSingerListData = (\n  area: number,\n  type: number,\n  initial: string,\n  currentPage: number\n) => {\n  return getRequest(REQUEST_URL.singerList, {\n    area,\n    type,\n    initial,\n    limit: SINGER_LIMIT,\n    offset: (currentPage - 1) * SINGER_LIMIT,\n  }).then(convertSingerList);\n};\n\nexport const getSingerInfoData = (id: number) => {\n  return getRequest(REQUEST_URL.singerInfo, { id }).then(convertSingerInfo);\n};\n\nexport const getSingerAlbumsData = (id: number, currentPage: number) => {\n  return getRequest(REQUEST_URL.singerAlbums, {\n    id,\n    limit: SINGER_ALBUM_LIMIT,\n    offset: (currentPage - 1) * SINGER_ALBUM_LIMIT,\n  }).then(convertSingerAlbums);\n};\n\nexport const getAlbumSongsData = (id: number) => {\n  return getRequest(REQUEST_URL.albumSongs, { id }).then(convertAlbumSongs);\n};\n\nexport const getSingerMvsData = (id: number) => {\n  return getRequest(REQUEST_URL.singerMvs, { id }).then(convertSingerMvs);\n};\n\nexport const getSingerDescData = (id: number) => {\n  return getRequest(REQUEST_URL.singerDesc, { id }).then(convertSingerDesc);\n};\n\nexport const getSimiSingerData = (id: number) => {\n  return getRequest(REQUEST_URL.simiSinger, { id }).then(convertSimiSinger);\n};\n","<template>\n  <div class=\"singer\">\n    <!-- 歌手筛选 -->\n    <div class=\"singer-select\">\n      <div class=\"select-item\">\n        <span class=\"item-title\">语种: </span>\n        <div class=\"item-conditions\">\n          <div\n            class=\"conditions-wrapper\"\n            :class=\"{ 'no-first': item.value !== -1 }\"\n            v-for=\"item in singerAreas\"\n            :key=\"`area${item.value}`\"\n          >\n            <span\n              class=\"conditions-text\"\n              :class=\"{ active: item.value === area }\"\n              @click=\"handleChangeCondition('area', item.value)\"\n            >\n              {{ item.label }}\n            </span>\n          </div>\n        </div>\n      </div>\n      <div class=\"select-item\">\n        <span class=\"item-title\">分类: </span>\n        <div class=\"item-conditions\">\n          <div\n            class=\"conditions-wrapper\"\n            :class=\"{ 'no-first': item.value !== -1 }\"\n            v-for=\"item in singerTypes\"\n            :key=\"`type${item.value}`\"\n          >\n            <span\n              class=\"conditions-text\"\n              :class=\"{ active: item.value === type }\"\n              @click=\"handleChangeCondition('type', item.value)\"\n            >\n              {{ item.label }}\n            </span>\n          </div>\n        </div>\n      </div>\n      <div class=\"select-item\">\n        <span class=\"item-title\">筛选: </span>\n        <div class=\"item-conditions\">\n          <div\n            class=\"conditions-wrapper\"\n            v-for=\"item in alphaTypes\"\n            :key=\"`alpha${item.value}`\"\n          >\n            <span\n              class=\"conditions-text\"\n              :class=\"{ active: item.value === alpha }\"\n              @click=\"handleChangeCondition('alpha', item.value)\"\n            >\n              {{ item.label }}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 歌手列表 -->\n    <div class=\"singer-list\" v-loading=\"isLoading\">\n      <div\n        class=\"list-item\"\n        v-for=\"item in singerList\"\n        :key=\"item.id\"\n        @click=\"handleShowDetail(item.id)\"\n      >\n        <img :src=\"item.picUrl\" alt=\"\" />\n        <div class=\"item-bottom\">\n          <span>{{ item.name }}</span>\n          <i class=\"iconfont icon-user\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  onMounted,\n  onUnmounted,\n  reactive,\n  ref,\n  toRefs,\n} from \"vue\";\nimport { SINGER_AREAS, SINGER_TYPES, ALPHA_TYPES } from \"@/utils/constant\";\n\nimport { getSingerListData } from \"@/api/singer/index\";\nimport { lazyLoad, debounce } from \"@/utils/utils\";\nimport { on, off } from \"@/utils/dom\";\nimport { useRouter } from \"vue-router\";\n\nexport default defineComponent({\n  setup() {\n    const router = useRouter();\n    const isLoading = ref<boolean>(false);\n    const singerAreas = ref<SingerSelectArgs[]>(SINGER_AREAS);\n    const singerTypes = ref<SingerSelectArgs[]>(SINGER_TYPES);\n    const alphaTypes = ref<SingerSelectArgs[]>(ALPHA_TYPES);\n    const singerList = ref<Artist[]>([]);\n    const conditions = reactive({\n      area: -1,\n      type: -1,\n      alpha: \"\",\n      currentPage: 1,\n      more: false,\n    });\n\n    // 获取数据更新变量\n    const getCurrentSingerList = async () => {\n      isLoading.value = true;\n\n      const { singers, more } = await getSingerListData(\n        conditions.area,\n        conditions.type,\n        conditions.alpha,\n        conditions.currentPage\n      );\n\n      singerList.value.push(...singers);\n      conditions.more = more;\n      if (more) conditions.currentPage++;\n\n      isLoading.value = false;\n    };\n\n    onMounted(() => {\n      getCurrentSingerList();\n      on(\n        document.getElementById(\"mainPage\"),\n        \"scroll\",\n        debounce(\n          () =>\n            lazyLoad(\n              document.getElementById(\"mainPage\"),\n              conditions.more,\n              getCurrentSingerList\n            ),\n          300\n        )\n      );\n    });\n    onUnmounted(() => off(document.getElementById(\"mainPage\"), \"scroll\"));\n\n    // 切换选项\n    const handleChangeCondition = (type: string, value: string | number) => {\n      conditions[type] = value;\n      conditions.currentPage = 1;\n\n      singerList.value = [];\n      getCurrentSingerList();\n    };\n\n    const handleShowDetail = (id: number) => router.push(`/singer/${id}`);\n\n    return {\n      isLoading,\n      singerAreas,\n      singerTypes,\n      alphaTypes,\n      singerList,\n      ...toRefs(conditions),\n      handleChangeCondition,\n      handleShowDetail,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.singer {\n  .singer-select {\n    font-size: 13px;\n    color: #666;\n\n    .select-item {\n      display: flex;\n      align-items: flex-start;\n      flex-wrap: wrap;\n      margin: 6px 0;\n\n      .item-title {\n        margin-right: 10px;\n      }\n\n      .item-conditions {\n        flex: 1;\n        display: flex;\n        align-items: flex-start;\n        flex-wrap: wrap;\n\n        .conditions-wrapper {\n          position: relative;\n          width: 64px;\n          margin-bottom: 15px;\n          text-align: center;\n\n          .conditions-text {\n            padding: 3px 10px;\n            cursor: pointer;\n            border-radius: 25px;\n\n            &.active {\n              color: $active-color;\n              background-color: #fdf5f5;\n            }\n          }\n\n          &.no-first {\n            width: 78px;\n          }\n\n          &::after {\n            content: \"\";\n            position: absolute;\n            top: 50%;\n            right: 0;\n            transform: translateY(-50%);\n            width: 1px;\n            height: 12px;\n            background: #e8e8e8;\n          }\n\n          &:last-child::after {\n            display: none;\n          }\n        }\n      }\n    }\n  }\n\n  .singer-list {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    flex-wrap: wrap;\n\n    .list-item {\n      flex: 0 0 15%;\n      margin-right: 2%;\n      margin-bottom: 20px;\n      cursor: pointer;\n\n      &:nth-of-type(6n) {\n        margin-right: 0;\n      }\n\n      > img {\n        width: 100%;\n        height: 100%;\n      }\n\n      .item-bottom {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        height: 24px;\n        padding: 0 2px;\n\n        .icon-user {\n          padding: 2px;\n          color: #fff;\n          background: $active-color;\n          border-radius: 50%;\n        }\n      }\n    }\n  }\n}\n</style>\n","\nimport {\n  defineComponent,\n  onMounted,\n  onUnmounted,\n  reactive,\n  ref,\n  toRefs,\n} from \"vue\";\nimport { SINGER_AREAS, SINGER_TYPES, ALPHA_TYPES } from \"@/utils/constant\";\n\nimport { getSingerListData } from \"@/api/singer/index\";\nimport { lazyLoad, debounce } from \"@/utils/utils\";\nimport { on, off } from \"@/utils/dom\";\nimport { useRouter } from \"vue-router\";\n\nexport default defineComponent({\n  setup() {\n    const router = useRouter();\n    const isLoading = ref<boolean>(false);\n    const singerAreas = ref<SingerSelectArgs[]>(SINGER_AREAS);\n    const singerTypes = ref<SingerSelectArgs[]>(SINGER_TYPES);\n    const alphaTypes = ref<SingerSelectArgs[]>(ALPHA_TYPES);\n    const singerList = ref<Artist[]>([]);\n    const conditions = reactive({\n      area: -1,\n      type: -1,\n      alpha: \"\",\n      currentPage: 1,\n      more: false,\n    });\n\n    // 获取数据更新变量\n    const getCurrentSingerList = async () => {\n      isLoading.value = true;\n\n      const { singers, more } = await getSingerListData(\n        conditions.area,\n        conditions.type,\n        conditions.alpha,\n        conditions.currentPage\n      );\n\n      singerList.value.push(...singers);\n      conditions.more = more;\n      if (more) conditions.currentPage++;\n\n      isLoading.value = false;\n    };\n\n    onMounted(() => {\n      getCurrentSingerList();\n      on(\n        document.getElementById(\"mainPage\"),\n        \"scroll\",\n        debounce(\n          () =>\n            lazyLoad(\n              document.getElementById(\"mainPage\"),\n              conditions.more,\n              getCurrentSingerList\n            ),\n          300\n        )\n      );\n    });\n    onUnmounted(() => off(document.getElementById(\"mainPage\"), \"scroll\"));\n\n    // 切换选项\n    const handleChangeCondition = (type: string, value: string | number) => {\n      conditions[type] = value;\n      conditions.currentPage = 1;\n\n      singerList.value = [];\n      getCurrentSingerList();\n    };\n\n    const handleShowDetail = (id: number) => router.push(`/singer/${id}`);\n\n    return {\n      isLoading,\n      singerAreas,\n      singerTypes,\n      alphaTypes,\n      singerList,\n      ...toRefs(conditions),\n      handleChangeCondition,\n      handleShowDetail,\n    };\n  },\n});\n","import { render } from \"./Index.vue?vue&type=template&id=60976e3c&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=60976e3c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-60976e3c\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=60976e3c&lang=scss&scoped=true\""],"sourceRoot":""}