{"version":3,"sources":["webpack:///./src/components/song-list/Index.vue?d6a2","webpack:///./src/views/search-detail/Index.vue","webpack:///./src/views/search-detail/Index.vue?85e8","webpack:///./src/views/search-detail/Index.vue?0f18","webpack:///./src/views/search-detail/Index.vue?a035","webpack:///./src/components/song-list/Index.vue","webpack:///./src/components/song-list/Index.vue?2e40","webpack:///./src/components/song-list/Index.vue?07b0"],"names":["class","style","total","typeToChinese","activeName","handleTabChange","label","name","songs","totalPageCount","pageCount","pagerCount","currentPage","handlePageChange","artists","artist","key","id","handleShowDetail","src","picUrl","alt","albums","album","artistAlias","videos","video","coverUrl","playCount","durationStr","nickName","playlists","playlist","coverImgUrl","trackCount","isLoading","components","SongList","emits","setup","props","emit","sessionStorage","getItem","value","resName","route","router","keywords","String","params","pageInfo","init","searchInfo","info","to","url","isStopPlayer","player","changePlayStatus","push","render","__scopeId","showTitle","item","index","handlePlaySong","toString","padStart","alias","sq","mvId","handleShowMvDetail","length","type","Array","default","Boolean","changeCurrentSongQueue","changeCurrentIndex"],"mappings":"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","file":"js/chunk-5862210b.32eca38a.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=69b612f7&lang=scss&scoped=true\"","<template>\n  <div class=\"search-detail\" v-loading=\"isLoading\">\n    <header class=\"search-header\">找到 {{ total }} {{ typeToChinese }}</header>\n    <div class=\"search-content\">\n      <Tabs v-model=\"activeName\" @tab-click=\"handleTabChange\">\n        <TabPane label=\"单曲\" name=\"songs\">\n          <SongList :songs=\"songs\" />\n          <Pagin\n            :totalPageCount=\"pageCount\"\n            :pagerCount=\"9\"\n            :currentPage=\"currentPage\"\n            @page-change=\"handlePageChange\"\n            style=\"margin: 10px 0\"\n          />\n        </TabPane>\n        <TabPane label=\"歌手\" name=\"artists\">\n          <div\n            class=\"artist\"\n            v-for=\"artist in artists\"\n            :key=\"artist.id\"\n            @click=\"handleShowDetail(`/singer/${artist.id}`)\"\n          >\n            <div class=\"artist-info\">\n              <img :src=\"artist.picUrl\" alt=\"\" />\n              <span>{{ artist.name }}</span>\n            </div>\n            <i class=\"iconfont icon-user\" />\n          </div>\n          <Pagin\n            :totalPageCount=\"pageCount\"\n            :pagerCount=\"9\"\n            :currentPage=\"currentPage\"\n            @page-change=\"handlePageChange\"\n            style=\"margin: 10px 0\"\n          />\n        </TabPane>\n        <TabPane label=\"专辑\" name=\"albums\">\n          <div\n            class=\"album\"\n            v-for=\"album in albums\"\n            :key=\"album.id\"\n            @click=\"handleShowDetail(`/album/${album.id}`)\"\n          >\n            <img :src=\"album.picUrl\" alt=\"\" />\n            <span class=\"album-name\">{{ album.name }}</span>\n            <span class=\"album-artist\">\n              {{ album.artist }}\n              <span v-if=\"album.artistAlias\" class=\"artist-alias\">\n                ({{ album.artistAlias }})\n              </span>\n            </span>\n          </div>\n        </TabPane>\n        <TabPane label=\"视频\" name=\"videos\">\n          <div class=\"videos\">\n            <div\n              class=\"video\"\n              v-for=\"video in videos\"\n              :key=\"video.id\"\n              @click=\"handleShowDetail(`/mv/${video.id}`, true)\"\n            >\n              <div class=\"video-cover\">\n                <img :src=\"video.coverUrl\" alt=\"\" />\n                <div class=\"cover-count\">\n                  <i class=\"iconfont icon-playlist-play\" />\n                  <span>{{ video.playCount }}</span>\n                </div>\n                <div class=\"cover-duration\">{{ video.durationStr }}</div>\n              </div>\n              <div class=\"video-desc\">\n                <p class=\"desc-name\">{{ video.name }}</p>\n                <div class=\"desc-creator\">by {{ video.nickName }}</div>\n              </div>\n            </div>\n          </div>\n          <Pagin\n            :totalPageCount=\"pageCount\"\n            :pagerCount=\"9\"\n            :currentPage=\"currentPage\"\n            @page-change=\"handlePageChange\"\n            style=\"margin: 10px 0\"\n          />\n        </TabPane>\n        <TabPane label=\"歌单\" name=\"playlists\">\n          <div\n            class=\"playlist\"\n            v-for=\"playlist in playlists\"\n            :key=\"playlist.id\"\n            @click=\"handleShowDetail(`/playlist/${playlist.id}`)\"\n          >\n            <img :src=\"playlist.coverImgUrl\" alt=\"\" />\n            <span class=\"playlist-name\">{{ playlist.name }}</span>\n            <span class=\"playlist-count\">{{ playlist.trackCount }}首</span>\n            <span class=\"playlist-artist\">\n              <span style=\"color: #aaa\">by </span>{{ playlist.nickName }}\n            </span>\n          </div>\n          <Pagin\n            :totalPageCount=\"pageCount\"\n            :pagerCount=\"9\"\n            :currentPage=\"currentPage\"\n            @page-change=\"handlePageChange\"\n            style=\"margin: 10px 0\"\n          />\n        </TabPane>\n      </Tabs>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { getSearchInfoData } from \"@/api/search\";\nimport { SEARCH_TYPE } from \"@/utils/constant\";\nimport {\n  computed,\n  defineComponent,\n  onMounted,\n  reactive,\n  ref,\n  toRefs,\n} from \"vue\";\nimport {\n  onBeforeRouteUpdate,\n  RouteLocationNormalized,\n  useRoute,\n  useRouter,\n} from \"vue-router\";\n\nimport SongList from \"@/components/song-list/Index.vue\";\nimport { playerStore } from \"@/store/modules/player\";\n\nexport default defineComponent({\n  components: {\n    SongList,\n  },\n  emits: [\"pagin-change\"],\n  setup(props, { emit }) {\n    const isLoading = ref<boolean>(false);\n    const activeName = ref<string>(\n      sessionStorage.getItem(\"searchDetailTab\") || \"songs\"\n    );\n    const typeToChinese = computed(() => SEARCH_TYPE[activeName.value].resName);\n    const route = useRoute();\n    const router = useRouter();\n    const keywords = String(route.params.keywords);\n\n    const pageInfo = reactive({\n      currentPage: 1,\n      pageCount: 0,\n      total: 0,\n    });\n    const handleTabChange = () => {\n      pageInfo.currentPage = 1;\n      init(keywords);\n    };\n    const handlePageChange = (currentPage: number) => {\n      pageInfo.currentPage = currentPage;\n      emit(\"pagin-change\");\n      init(keywords);\n    };\n\n    const searchInfo = reactive({\n      songs: [],\n      albums: [],\n      artists: [],\n      videos: [],\n      playlists: [],\n    });\n    const init = async (keywords: string) => {\n      isLoading.value = true;\n\n      const info = await getSearchInfoData(\n        keywords,\n        activeName.value,\n        pageInfo.currentPage\n      );\n\n      searchInfo[activeName.value] = info[activeName.value];\n      pageInfo.pageCount = info.pageCount;\n      pageInfo.total = info.total;\n\n      isLoading.value = false;\n    };\n    onMounted(() => init(keywords));\n    onBeforeRouteUpdate((to: RouteLocationNormalized) => {\n      activeName.value = \"songs\";\n      pageInfo.currentPage = 1;\n      init(String(to.params.keywords));\n    });\n\n    const handleShowDetail = (url: string, isStopPlayer?: boolean) => {\n      if (isStopPlayer) playerStore.changePlayStatus(false);\n      router.push(url);\n    };\n\n    return {\n      isLoading,\n      activeName,\n      typeToChinese,\n      ...toRefs(searchInfo),\n      ...toRefs(pageInfo),\n      handleTabChange,\n      handlePageChange,\n      handleShowDetail,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.tabs-header) {\n  .tabs-nav {\n    height: 40px;\n    margin-bottom: 15px;\n  }\n}\n\n.search-detail {\n  padding: 2% $tab-padding-horizon;\n\n  .search-header {\n    font-size: 17px;\n    font-weight: bold;\n    margin-bottom: 1.5%;\n  }\n\n  .search-content {\n    .artist,\n    .album,\n    .playlist {\n      display: flex;\n      align-items: center;\n      cursor: pointer;\n      padding: 15px 20px;\n      border-radius: 5px;\n\n      &:nth-child(even) {\n        background: #f8f8f8;\n      }\n\n      &:hover {\n        background: #f1f1f1;\n      }\n    }\n    .artist {\n      justify-content: space-between;\n\n      .artist-info {\n        display: flex;\n        align-items: center;\n\n        > img {\n          width: 64px;\n          margin-right: 10px;\n        }\n      }\n\n      .icon-user {\n        padding: 2px;\n        font-size: 14px;\n        color: #fff;\n        background: $active-color;\n        border-radius: 50%;\n        &::before {\n          position: relative;\n          left: -0.5px;\n        }\n      }\n    }\n\n    .album {\n      > img {\n        width: 64px;\n        margin-right: 10px;\n      }\n\n      .album-name {\n        flex: 0 0 450px;\n      }\n\n      .album-artist {\n        flex: 1;\n        font-size: 12px;\n        color: #666;\n\n        .artist-alias {\n          color: #bbb;\n        }\n      }\n    }\n\n    .videos {\n      display: flex;\n      align-items: center;\n      flex-wrap: wrap;\n\n      .video {\n        flex: 0 0 23.5%;\n        margin-right: 2%;\n        margin-bottom: 20px;\n        font-size: 12px;\n        cursor: pointer;\n\n        &:nth-child(4n) {\n          margin-right: 0;\n        }\n\n        .video-cover {\n          position: relative;\n          width: 100%;\n          margin-bottom: 5px;\n\n          > img {\n            width: 100%;\n          }\n\n          .cover-count {\n            position: absolute;\n            top: 4px;\n            right: 8px;\n            color: #fff;\n          }\n\n          .cover-duration {\n            position: absolute;\n            bottom: 6px;\n            right: 8px;\n            color: #fff;\n          }\n        }\n\n        .video-desc {\n          .desc-name,\n          .desc-creator {\n            line-height: 1.5;\n            @include multipleNoWrap(1);\n          }\n\n          .desc-creator {\n            color: #ddd;\n          }\n        }\n      }\n    }\n\n    .playlist {\n      > img {\n        width: 64px;\n        margin-right: 10px;\n      }\n\n      .playlist-name {\n        flex: 0 0 400px;\n      }\n\n      .playlist-count {\n        flex: 0 0 200px;\n        font-size: 12px;\n        color: #666;\n      }\n\n      .playlist-artist {\n        flex: 1;\n        font-size: 12px;\n        color: #444;\n      }\n    }\n  }\n}\n</style>\n","\nimport { getSearchInfoData } from \"@/api/search\";\nimport { SEARCH_TYPE } from \"@/utils/constant\";\nimport {\n  computed,\n  defineComponent,\n  onMounted,\n  reactive,\n  ref,\n  toRefs,\n} from \"vue\";\nimport {\n  onBeforeRouteUpdate,\n  RouteLocationNormalized,\n  useRoute,\n  useRouter,\n} from \"vue-router\";\n\nimport SongList from \"@/components/song-list/Index.vue\";\nimport { playerStore } from \"@/store/modules/player\";\n\nexport default defineComponent({\n  components: {\n    SongList,\n  },\n  emits: [\"pagin-change\"],\n  setup(props, { emit }) {\n    const isLoading = ref<boolean>(false);\n    const activeName = ref<string>(\n      sessionStorage.getItem(\"searchDetailTab\") || \"songs\"\n    );\n    const typeToChinese = computed(() => SEARCH_TYPE[activeName.value].resName);\n    const route = useRoute();\n    const router = useRouter();\n    const keywords = String(route.params.keywords);\n\n    const pageInfo = reactive({\n      currentPage: 1,\n      pageCount: 0,\n      total: 0,\n    });\n    const handleTabChange = () => {\n      pageInfo.currentPage = 1;\n      init(keywords);\n    };\n    const handlePageChange = (currentPage: number) => {\n      pageInfo.currentPage = currentPage;\n      emit(\"pagin-change\");\n      init(keywords);\n    };\n\n    const searchInfo = reactive({\n      songs: [],\n      albums: [],\n      artists: [],\n      videos: [],\n      playlists: [],\n    });\n    const init = async (keywords: string) => {\n      isLoading.value = true;\n\n      const info = await getSearchInfoData(\n        keywords,\n        activeName.value,\n        pageInfo.currentPage\n      );\n\n      searchInfo[activeName.value] = info[activeName.value];\n      pageInfo.pageCount = info.pageCount;\n      pageInfo.total = info.total;\n\n      isLoading.value = false;\n    };\n    onMounted(() => init(keywords));\n    onBeforeRouteUpdate((to: RouteLocationNormalized) => {\n      activeName.value = \"songs\";\n      pageInfo.currentPage = 1;\n      init(String(to.params.keywords));\n    });\n\n    const handleShowDetail = (url: string, isStopPlayer?: boolean) => {\n      if (isStopPlayer) playerStore.changePlayStatus(false);\n      router.push(url);\n    };\n\n    return {\n      isLoading,\n      activeName,\n      typeToChinese,\n      ...toRefs(searchInfo),\n      ...toRefs(pageInfo),\n      handleTabChange,\n      handlePageChange,\n      handleShowDetail,\n    };\n  },\n});\n","import { render } from \"./Index.vue?vue&type=template&id=791443fa&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=791443fa&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-791443fa\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=791443fa&lang=scss&scoped=true\"","<template>\n  <div class=\"list-item list-header\" v-if=\"showTitle\">\n    <span class=\"item-index\" />\n    <div class=\"item-options\" />\n    <div class=\"item-title\">音乐标题</div>\n    <span class=\"item-singer\">歌手</span>\n    <span class=\"item-album\">专辑</span>\n    <span class=\"item-duration\">时长</span>\n  </div>\n  <ul>\n    <li\n      class=\"list-item\"\n      v-for=\"(item, index) in songs\"\n      :key=\"item.id\"\n      @dblclick=\"handlePlaySong(index)\"\n    >\n      <span class=\"item-index\">\n        {{ (index + 1).toString().padStart(2, \"0\") }}\n      </span>\n      <div class=\"item-options\">\n        <i class=\"iconfont icon-song-like\" />\n        <i class=\"iconfont icon-song-download\" />\n      </div>\n      <div class=\"item-title\">\n        <div class=\"title-name\">\n          <span>{{ item.name }}</span>\n          <span v-if=\"item.alias\" class=\"title-alias\">({{ item.alias }})</span>\n        </div>\n        <i v-if=\"item.sq\" class=\"iconfont icon-sq\" />\n        <i\n          v-if=\"item.mvId\"\n          class=\"iconfont icon-mv\"\n          @click=\"handleShowMvDetail(item.mvId)\"\n        />\n      </div>\n      <span class=\"item-singer\" v-if=\"showTitle\">\n        <span v-for=\"(artist, index) in item.artists\" :key=\"artist.id\">\n          {{\n            `${artist.name}${index === item.artists.length - 1 ? \"\" : \" / \"}`\n          }}\n        </span>\n      </span>\n      <span class=\"item-album\" v-if=\"showTitle\">{{ item.album.name }}</span>\n      <span class=\"item-duration\">{{ item.durationStr }}</span>\n    </li>\n  </ul>\n</template>\n\n<script lang=\"ts\">\nimport { playerStore } from \"@/store/modules/player\";\nimport { defineComponent, PropType } from \"vue\";\nimport { useRouter } from \"vue-router\";\n\nexport default defineComponent({\n  props: {\n    songs: {\n      type: Array as PropType<Song[]>,\n      default: () => [],\n    },\n    showTitle: {\n      type: Boolean as PropType<boolean>,\n      default: true,\n    },\n  },\n  setup(props) {\n    const handlePlaySong = (index: number) => {\n      playerStore.changeCurrentSongQueue(props.songs as Song[]);\n      playerStore.changeCurrentIndex(index);\n    };\n\n    const router = useRouter();\n    const handleShowMvDetail = (id: number) => {\n      playerStore.changePlayStatus(false);\n      router.push(`/mv/${id}`);\n    };\n\n    return {\n      handlePlaySong,\n      handleShowMvDetail,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.list-item {\n  display: flex;\n  align-items: center;\n  height: 36px;\n  font-size: 14px;\n  color: #888;\n\n  .item-index {\n    flex: 0 0 35px;\n    text-align: right;\n  }\n\n  .item-options {\n    flex: 0 0 5%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0 1%;\n\n    .iconfont {\n      font-size: 24px;\n      color: #888;\n    }\n  }\n\n  .item-title {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    color: #333;\n\n    .title-name {\n      @include maxWidthEllipsis(280px);\n\n      > span {\n        margin-right: 5px;\n      }\n\n      .title-alias {\n        color: #999;\n      }\n    }\n\n    .iconfont {\n      font-size: 36px;\n      color: $primary-color;\n      vertical-align: middle;\n    }\n  }\n\n  .item-singer,\n  .item-album {\n    padding: 0 10px;\n    box-sizing: border-box;\n    color: #666;\n  }\n\n  .item-singer {\n    flex: 0 0 20%;\n    @include maxWidthEllipsis(20%);\n  }\n\n  .item-album {\n    flex: 0 0 25%;\n    @include maxWidthEllipsis(25%);\n  }\n\n  .item-duration {\n    flex: 0 0 10%;\n  }\n\n  &:nth-child(odd) {\n    background: #f9f9f9;\n  }\n\n  &:hover {\n    background: #f0f0f0;\n  }\n\n  &.list-header {\n    background: #fff;\n\n    .item-title,\n    .item-singer,\n    .item-album {\n      color: #888;\n    }\n  }\n}\n</style>\n","\nimport { playerStore } from \"@/store/modules/player\";\nimport { defineComponent, PropType } from \"vue\";\nimport { useRouter } from \"vue-router\";\n\nexport default defineComponent({\n  props: {\n    songs: {\n      type: Array as PropType<Song[]>,\n      default: () => [],\n    },\n    showTitle: {\n      type: Boolean as PropType<boolean>,\n      default: true,\n    },\n  },\n  setup(props) {\n    const handlePlaySong = (index: number) => {\n      playerStore.changeCurrentSongQueue(props.songs as Song[]);\n      playerStore.changeCurrentIndex(index);\n    };\n\n    const router = useRouter();\n    const handleShowMvDetail = (id: number) => {\n      playerStore.changePlayStatus(false);\n      router.push(`/mv/${id}`);\n    };\n\n    return {\n      handlePlaySong,\n      handleShowMvDetail,\n    };\n  },\n});\n","import { render } from \"./Index.vue?vue&type=template&id=69b612f7&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=69b612f7&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-69b612f7\"\n\nexport default script"],"sourceRoot":""}