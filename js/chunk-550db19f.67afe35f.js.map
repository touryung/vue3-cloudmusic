{"version":3,"sources":["webpack:///./src/components/song-list/Index.vue?d6a2","webpack:///./node_modules/core-js/modules/es.string.match.js","webpack:///./src/views/playlist-detail/Index.vue","webpack:///./src/views/playlist-detail/Index.vue?da07","webpack:///./src/views/playlist-detail/Index.vue?e2e4","webpack:///./src/views/playlist-detail/Index.vue?2ee4","webpack:///./src/components/comment-box/CommentBox.vue?c586","webpack:///./src/components/song-list/Index.vue","webpack:///./src/components/song-list/Index.vue?2e40","webpack:///./src/components/song-list/Index.vue?07b0","webpack:///./src/api/playlist/convert.ts","webpack:///./src/api/playlist/index.ts","webpack:///./src/components/comment-box/CommentBox.vue","webpack:///./src/components/comment-box/CommentBox.vue?af39","webpack:///./src/components/comment-box/CommentBox.vue?6eee"],"names":["fixRegExpWellKnownSymbolLogic","anObject","toLength","requireObjectCoercible","advanceStringIndex","regExpExec","MATCH","nativeMatch","maybeCallNative","regexp","O","this","matcher","undefined","call","RegExp","String","string","res","done","value","rx","S","global","fullUnicode","unicode","lastIndex","result","A","n","matchStr","class","src","detailInfo","coverImgUrl","alt","name","avatarUrl","nickname","createTime","subscribedCount","shareCount","tags","trackCount","playCount","subDescription","showDescMore","description","activeName","label","songs","commentCount","hotComments","comments","total","totalPageCount","pageCount","pagerCount","currentPage","handlePageChange","isLoading","components","SongList","CommentBox","setup","props","emit","route","id","Number","params","sessionStorage","getItem","commentData","getComments","init","render","__scopeId","showTitle","item","index","key","handlePlaySong","toString","padStart","alias","sq","mvId","handleShowMvDetail","artists","artist","length","album","durationStr","type","Array","default","Boolean","player","changeCurrentSongQueue","changeCurrentIndex","router","changePlayStatus","push","convertCategory","data","playlists","convertPlaylists","map","list","picUrl","nickName","creator","copywriter","tag","Math","floor","convertPlaylistDetail","playlist","trackIds","userId","ids","track","join","convertSongs","song","al","alia","ar","st","duration","dt","mv","split","slice","REQUEST_URL","hotCategory","allCategory","highQuality","detail","comment","songDetail","then","category","cat","limit","offset","convertComment","rows","maxlength","handleCalcRestWord","ref","inputRestWord","commentInput","calcWord","text","english","match","chinese"],"mappings":"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","file":"js/chunk-550db19f.67afe35f.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=69b612f7&lang=scss&scoped=true\"","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (string) {\n      var res = maybeCallNative(nativeMatch, this, string);\n      if (res.done) return res.value;\n\n      var rx = anObject(this);\n      var S = String(string);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","<template>\n  <div class=\"playlist-detail\" v-loading=\"isLoading\">\n    <div class=\"detail-top\">\n      <img :src=\"detailInfo.coverImgUrl\" alt=\"\" />\n      <div class=\"top-content\">\n        <h1 class=\"content-title\"><span>歌单</span>{{ detailInfo.name }}</h1>\n        <div class=\"content-provider\">\n          <img :src=\"detailInfo.avatarUrl\" alt=\"\" />\n          <span class=\"provider-name\">{{ detailInfo.nickname }}</span>\n          <span>{{ detailInfo.createTime }}创建</span>\n        </div>\n        <div class=\"content-options\">\n          <div class=\"option-item highlight\">\n            <i class=\"iconfont icon-lyric-play\" />\n            <span>播放全部</span>\n            <i class=\"iconfont icon-plus\" />\n          </div>\n          <div class=\"option-item\">\n            <i class=\"iconfont icon-player-collect\" />\n            <span>收藏({{ detailInfo.subscribedCount }})</span>\n          </div>\n          <div class=\"option-item\">\n            <i class=\"iconfont icon-share\" />\n            <span>分享({{ detailInfo.shareCount }})</span>\n          </div>\n          <div class=\"option-item\">\n            <i class=\"iconfont icon-player-download\" />\n            <span>下载全部</span>\n          </div>\n        </div>\n        <div class=\"content-tags\" v-if=\"detailInfo.tags\">\n          <span class=\"label\">标签 : </span>\n          <span class=\"tag\">{{ detailInfo.tags }}</span>\n        </div>\n        <div class=\"content-count\">\n          <span class=\"label\">歌曲 : </span>{{ detailInfo.trackCount }} &nbsp;\n          <span class=\"label\">播放 : </span>{{ detailInfo.playCount }}\n        </div>\n        <div class=\"content-desc\">\n          <span class=\"label\">简介 : </span>{{ detailInfo.subDescription }}\n          <span v-if=\"!showDescMore\">...</span>\n          <p v-else v-html=\"detailInfo.description\" />\n          <i\n            :class=\"`iconfont icon-${showDescMore ? 'up' : 'down-2'}`\"\n            @click=\"showDescMore = !showDescMore\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"detail-bottom\">\n      <Tabs v-model=\"activeName\">\n        <TabPane label=\"歌曲列表\" name=\"songList\">\n          <SongList :songs=\"detailInfo.songs\" />\n        </TabPane>\n        <TabPane\n          :label=\"`评论(${detailInfo.commentCount || 0})`\"\n          name=\"songComment\"\n        >\n          <div class=\"bottom-comment\">\n            <CommentBox />\n            <Comments\n              :hotComments=\"hotComments\"\n              :comments=\"comments\"\n              :total=\"total\"\n            />\n            <Pagin\n              :totalPageCount=\"pageCount\"\n              :pagerCount=\"9\"\n              :currentPage=\"currentPage\"\n              @pageChange=\"handlePageChange\"\n            />\n          </div>\n        </TabPane>\n      </Tabs>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onMounted, reactive, ref, toRefs } from \"vue\";\n\nimport {\n  PlaylistDetail,\n  getPlaylistDetailData,\n  getPlaylistCommentData,\n} from \"@/api/playlist/index\";\nimport { useRoute } from \"vue-router\";\n\nimport SongList from \"@/components/song-list/Index.vue\";\nimport CommentBox from \"@/components/comment-box/CommentBox.vue\";\n\nexport default defineComponent({\n  components: {\n    SongList,\n    CommentBox,\n  },\n  setup(props, { emit }) {\n    const route = useRoute();\n    const id = Number(route.params.id);\n    const isLoading = ref<boolean>(false);\n    const showDescMore = ref<boolean>(false);\n    const activeName = ref<string>(\n      sessionStorage.getItem(\"playlistTab\") || \"songList\"\n    );\n    // 所有属性变为可选\n    const detailInfo = ref<Partial<PlaylistDetail>>({});\n\n    const commentData = reactive({\n      hotComments: [],\n      comments: [],\n      total: 0,\n      pageCount: 0,\n      currentPage: 1,\n    });\n    const getComments = async () => {\n      const { hotComments, comments, total, pageCount } =\n        await getPlaylistCommentData(id, commentData.currentPage);\n      commentData.hotComments = hotComments;\n      commentData.comments = comments;\n      commentData.total = total;\n      commentData.pageCount = pageCount;\n    };\n\n    const init = async () => {\n      isLoading.value = true;\n      detailInfo.value = await getPlaylistDetailData(id);\n      await getComments();\n      isLoading.value = false;\n    };\n\n    onMounted(() => init());\n\n    // 处理分页\n    const handlePageChange = (currentPage: number) => {\n      emit(\"pagin-change\");\n      commentData.currentPage = currentPage;\n      getComments();\n    };\n\n    return {\n      isLoading,\n      detailInfo,\n      showDescMore,\n      activeName,\n      ...toRefs(commentData),\n      handlePageChange,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.playlist-detail {\n  .detail-top {\n    display: flex;\n    align-items: flex-start;\n    padding: 2% $tab-padding-horizon;\n\n    > img {\n      flex: 0 0 auto;\n      width: 184px;\n      margin-right: 20px;\n    }\n\n    .top-content {\n      flex: 1;\n\n      .content-title {\n        font-size: 23px;\n        font-weight: bold;\n\n        > span {\n          display: inline-block;\n          padding: 2px 4px;\n          font-size: 14px;\n          font-weight: normal;\n          color: $primary-color;\n          border: 1px solid $primary-color;\n          border-radius: 2px;\n          vertical-align: middle;\n          margin-right: 10px;\n        }\n      }\n\n      .content-provider {\n        display: flex;\n        align-items: center;\n        height: 50px;\n        font-size: 12px;\n        color: #666;\n\n        > img {\n          width: 28px;\n          border-radius: 50%;\n          cursor: pointer;\n        }\n\n        .provider-name {\n          margin: 0 8px;\n          color: #5480b1;\n          cursor: pointer;\n        }\n      }\n\n      .content-options {\n        display: flex;\n        align-items: center;\n        margin-bottom: 6px;\n        font-size: 14px;\n        color: #444;\n\n        .option-item {\n          display: flex;\n          align-items: center;\n          padding: 5px 14px;\n          margin-right: 10px;\n          border: 1px solid #e1e1e1;\n          border-radius: 25px;\n          cursor: pointer;\n\n          .iconfont {\n            font-size: 22px;\n            margin-right: 4px;\n          }\n\n          &.highlight {\n            padding-right: 4px;\n            background: $primary-color;\n            color: #fff;\n\n            > span {\n              position: relative;\n\n              &::after {\n                content: \"\";\n                position: absolute;\n                top: -6px;\n                right: -10px;\n                width: 1px;\n                height: 26px;\n                background: #fefefe3d;\n              }\n            }\n\n            .icon-plus {\n              margin-left: 16px;\n            }\n          }\n        }\n      }\n\n      .content-tags,\n      .content-count,\n      .content-desc {\n        font-size: 13px;\n        line-height: 2;\n        color: #555;\n\n        .label {\n          color: #444;\n        }\n      }\n\n      .content-tags {\n        .tag {\n          color: #5480b1;\n          cursor: pointer;\n        }\n      }\n\n      .content-desc {\n        position: relative;\n\n        .iconfont {\n          position: absolute;\n          top: -10px;\n          right: 0;\n          font-size: 22px;\n          color: #999;\n          cursor: pointer;\n        }\n      }\n    }\n  }\n\n  .detail-bottom {\n    padding: 0 $tab-padding-horizon;\n\n    .bottom-comment {\n      padding: 1% 0;\n    }\n  }\n}\n</style>\n","\nimport { defineComponent, onMounted, reactive, ref, toRefs } from \"vue\";\n\nimport {\n  PlaylistDetail,\n  getPlaylistDetailData,\n  getPlaylistCommentData,\n} from \"@/api/playlist/index\";\nimport { useRoute } from \"vue-router\";\n\nimport SongList from \"@/components/song-list/Index.vue\";\nimport CommentBox from \"@/components/comment-box/CommentBox.vue\";\n\nexport default defineComponent({\n  components: {\n    SongList,\n    CommentBox,\n  },\n  setup(props, { emit }) {\n    const route = useRoute();\n    const id = Number(route.params.id);\n    const isLoading = ref<boolean>(false);\n    const showDescMore = ref<boolean>(false);\n    const activeName = ref<string>(\n      sessionStorage.getItem(\"playlistTab\") || \"songList\"\n    );\n    // 所有属性变为可选\n    const detailInfo = ref<Partial<PlaylistDetail>>({});\n\n    const commentData = reactive({\n      hotComments: [],\n      comments: [],\n      total: 0,\n      pageCount: 0,\n      currentPage: 1,\n    });\n    const getComments = async () => {\n      const { hotComments, comments, total, pageCount } =\n        await getPlaylistCommentData(id, commentData.currentPage);\n      commentData.hotComments = hotComments;\n      commentData.comments = comments;\n      commentData.total = total;\n      commentData.pageCount = pageCount;\n    };\n\n    const init = async () => {\n      isLoading.value = true;\n      detailInfo.value = await getPlaylistDetailData(id);\n      await getComments();\n      isLoading.value = false;\n    };\n\n    onMounted(() => init());\n\n    // 处理分页\n    const handlePageChange = (currentPage: number) => {\n      emit(\"pagin-change\");\n      commentData.currentPage = currentPage;\n      getComments();\n    };\n\n    return {\n      isLoading,\n      detailInfo,\n      showDescMore,\n      activeName,\n      ...toRefs(commentData),\n      handlePageChange,\n    };\n  },\n});\n","import { render } from \"./Index.vue?vue&type=template&id=8a338956&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=8a338956&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-8a338956\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=8a338956&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CommentBox.vue?vue&type=style&index=0&id=2fead7f8&lang=scss&scoped=true\"","<template>\n  <div class=\"list-item list-header\" v-if=\"showTitle\">\n    <span class=\"item-index\" />\n    <div class=\"item-options\" />\n    <div class=\"item-title\">音乐标题</div>\n    <span class=\"item-singer\">歌手</span>\n    <span class=\"item-album\">专辑</span>\n    <span class=\"item-duration\">时长</span>\n  </div>\n  <ul>\n    <li\n      class=\"list-item\"\n      v-for=\"(item, index) in songs\"\n      :key=\"item.id\"\n      @dblclick=\"handlePlaySong(index)\"\n    >\n      <span class=\"item-index\">\n        {{ (index + 1).toString().padStart(2, \"0\") }}\n      </span>\n      <div class=\"item-options\">\n        <i class=\"iconfont icon-song-like\" />\n        <i class=\"iconfont icon-song-download\" />\n      </div>\n      <div class=\"item-title\">\n        <div class=\"title-name\">\n          <span>{{ item.name }}</span>\n          <span v-if=\"item.alias\" class=\"title-alias\">({{ item.alias }})</span>\n        </div>\n        <i v-if=\"item.sq\" class=\"iconfont icon-sq\" />\n        <i\n          v-if=\"item.mvId\"\n          class=\"iconfont icon-mv\"\n          @click=\"handleShowMvDetail(item.mvId)\"\n        />\n      </div>\n      <span class=\"item-singer\" v-if=\"showTitle\">\n        <span v-for=\"(artist, index) in item.artists\" :key=\"artist.id\">\n          {{\n            `${artist.name}${index === item.artists.length - 1 ? \"\" : \" / \"}`\n          }}\n        </span>\n      </span>\n      <span class=\"item-album\" v-if=\"showTitle\">{{ item.album.name }}</span>\n      <span class=\"item-duration\">{{ item.durationStr }}</span>\n    </li>\n  </ul>\n</template>\n\n<script lang=\"ts\">\nimport { playerStore } from \"@/store/modules/player\";\nimport { defineComponent, PropType } from \"vue\";\nimport { useRouter } from \"vue-router\";\n\nexport default defineComponent({\n  props: {\n    songs: {\n      type: Array as PropType<Song[]>,\n      default: () => [],\n    },\n    showTitle: {\n      type: Boolean as PropType<boolean>,\n      default: true,\n    },\n  },\n  setup(props) {\n    const handlePlaySong = (index: number) => {\n      playerStore.changeCurrentSongQueue(props.songs as Song[]);\n      playerStore.changeCurrentIndex(index);\n    };\n\n    const router = useRouter();\n    const handleShowMvDetail = (id: number) => {\n      playerStore.changePlayStatus(false);\n      router.push(`/mv/${id}`);\n    };\n\n    return {\n      handlePlaySong,\n      handleShowMvDetail,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.list-item {\n  display: flex;\n  align-items: center;\n  height: 36px;\n  font-size: 14px;\n  color: #888;\n\n  .item-index {\n    flex: 0 0 35px;\n    text-align: right;\n  }\n\n  .item-options {\n    flex: 0 0 5%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0 1%;\n\n    .iconfont {\n      font-size: 24px;\n      color: #888;\n    }\n  }\n\n  .item-title {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    color: #333;\n\n    .title-name {\n      @include maxWidthEllipsis(280px);\n\n      > span {\n        margin-right: 5px;\n      }\n\n      .title-alias {\n        color: #999;\n      }\n    }\n\n    .iconfont {\n      font-size: 36px;\n      color: $primary-color;\n      vertical-align: middle;\n    }\n  }\n\n  .item-singer,\n  .item-album {\n    padding: 0 10px;\n    box-sizing: border-box;\n    color: #666;\n  }\n\n  .item-singer {\n    flex: 0 0 20%;\n    @include maxWidthEllipsis(20%);\n  }\n\n  .item-album {\n    flex: 0 0 25%;\n    @include maxWidthEllipsis(25%);\n  }\n\n  .item-duration {\n    flex: 0 0 10%;\n  }\n\n  &:nth-child(odd) {\n    background: #f9f9f9;\n  }\n\n  &:hover {\n    background: #f0f0f0;\n  }\n\n  &.list-header {\n    background: #fff;\n\n    .item-title,\n    .item-singer,\n    .item-album {\n      color: #888;\n    }\n  }\n}\n</style>\n","\nimport { playerStore } from \"@/store/modules/player\";\nimport { defineComponent, PropType } from \"vue\";\nimport { useRouter } from \"vue-router\";\n\nexport default defineComponent({\n  props: {\n    songs: {\n      type: Array as PropType<Song[]>,\n      default: () => [],\n    },\n    showTitle: {\n      type: Boolean as PropType<boolean>,\n      default: true,\n    },\n  },\n  setup(props) {\n    const handlePlaySong = (index: number) => {\n      playerStore.changeCurrentSongQueue(props.songs as Song[]);\n      playerStore.changeCurrentIndex(index);\n    };\n\n    const router = useRouter();\n    const handleShowMvDetail = (id: number) => {\n      playerStore.changePlayStatus(false);\n      router.push(`/mv/${id}`);\n    };\n\n    return {\n      handlePlaySong,\n      handleShowMvDetail,\n    };\n  },\n});\n","import { render } from \"./Index.vue?vue&type=template&id=69b612f7&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=69b612f7&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-69b612f7\"\n\nexport default script","import { formatDate, formatDuration, translateCount } from \"@/utils/utils\";\nimport { PLAYLIST_LIMIT } from \"@/utils/constant\";\nimport { AxiosResponse } from \"axios\";\nimport { getSongsData } from \"./index\";\n\nexport const convertCategory = (res: AxiosResponse) => {\n  return res.data;\n};\n\n// 转换歌单内容\nexport const convertPlaylists = (res: AxiosResponse) => {\n  const { playlists, total } = res.data;\n  const convertPlaylists: PlayListItem[] = playlists.map((list) => ({\n    id: list.id,\n    name: list.name,\n    picUrl: list.coverImgUrl,\n    playCount: translateCount(list.playCount),\n    nickName: list.creator.nickname,\n    copywriter: list.copywriter || \"\",\n    tag: list.tag || \"\",\n  }));\n\n  return {\n    playlists: convertPlaylists,\n    pageCount:\n      total % PLAYLIST_LIMIT\n        ? Math.floor(total / PLAYLIST_LIMIT) + 1\n        : total / PLAYLIST_LIMIT,\n  };\n};\n\nexport const convertPlaylistDetail = async (res: AxiosResponse) => {\n  const {\n    id,\n    name,\n    creator,\n    trackIds,\n    coverImgUrl,\n    createTime,\n    trackCount,\n    playCount,\n    subscribedCount,\n    shareCount,\n    commentCount,\n    tags,\n    description,\n  } = res.data.playlist;\n  const { userId, nickname, avatarUrl } = creator;\n  const ids = trackIds.map((track: any) => track.id).join(\",\");\n  const { data } = await getSongsData(ids);\n  const convertSongs = data.songs.map((song: any) => ({\n    id: song.id,\n    name: song.name,\n    picUrl: song.al.picUrl,\n    alias: song.alia.length ? song.alia.join(\"/\") : \"\",\n    artists: song.ar.map((item: Artist) => ({ id: item.id, name: item.name })),\n    album: { id: song.al.id, name: song.al.name },\n    sq: song.st === 0,\n    duration: song.dt,\n    durationStr: formatDuration(song.dt),\n    mvId: song.mv,\n  }));\n\n  return {\n    id,\n    name,\n    coverImgUrl,\n    userId,\n    nickname,\n    avatarUrl,\n    tags: tags.join(\" / \"),\n    songs: convertSongs,\n    trackCount,\n    commentCount,\n    playCount: translateCount(playCount),\n    subscribedCount: translateCount(subscribedCount),\n    shareCount: translateCount(shareCount),\n    createTime: formatDate(createTime, \"YYYY-MM-dd\"),\n    subDescription: description?.split(\"\\n\")[0] || \"\",\n    description: description?.split(\"\\n\").slice(1).join(\"<br/>\") || \"\",\n  };\n};\n","import { PLAYLIST_LIMIT, COMMENT_LIMIT } from \"@/utils/constant\";\nimport { convertComment } from \"../convertComment\";\nimport { getRequest } from \"../request\";\nimport {\n  convertCategory,\n  convertPlaylists,\n  convertPlaylistDetail,\n} from \"./convert\";\n\nconst REQUEST_URL = {\n  hotCategory: \"/playlist/hot\",\n  allCategory: \"/playlist/catlist\",\n  highQuality: \"/top/playlist/highquality\",\n  playlist: \"/top/playlist\",\n\n  detail: \"/playlist/detail\",\n  comment: \"/comment/playlist\",\n  songDetail: \"/song/detail\",\n};\n\nexport interface PlaylistDetail {\n  id: number;\n  name: string;\n  coverImgUrl: string;\n  userId: number;\n  nickname: string;\n  avatarUrl: string;\n  tags: string;\n  playCount: number | string;\n  subscribedCount: number | string;\n  shareCount: number | string;\n  trackCount: number;\n  commentCount: number;\n  createTime: string;\n  subDescription: string;\n  description: string;\n  songs: Song[];\n}\n\nexport const getHotCategoryData = () => {\n  return getRequest(REQUEST_URL.hotCategory).then(convertCategory);\n};\n\nexport const getAllCategoryData = () => {\n  return getRequest(REQUEST_URL.allCategory).then(convertCategory);\n};\n\nexport const getHighQualityData = (category: string) => {\n  return getRequest(REQUEST_URL.highQuality, { cat: category }).then(\n    convertPlaylists\n  );\n};\n\nexport const getPlaylistData = (category: string, currentPage: number) => {\n  return getRequest(REQUEST_URL.playlist, {\n    cat: category,\n    limit: PLAYLIST_LIMIT,\n    offset: (currentPage - 1) * COMMENT_LIMIT,\n  }).then(convertPlaylists);\n};\n\nexport const getPlaylistDetailData = (id: number) => {\n  return getRequest(REQUEST_URL.detail, { id }).then(convertPlaylistDetail);\n};\n\nexport const getPlaylistCommentData = (id: number, currentPage: number) => {\n  return getRequest(REQUEST_URL.comment, {\n    id,\n    limit: COMMENT_LIMIT,\n    offset: (currentPage - 1) * COMMENT_LIMIT,\n  }).then(convertComment);\n};\n\nexport const getSongsData = (ids: string) => {\n  return getRequest(REQUEST_URL.songDetail, { ids });\n};\n","<template>\n  <div class=\"comment-box\">\n    <textarea\n      class=\"box-input\"\n      rows=\"4\"\n      maxlength=\"140\"\n      @keyup=\"handleCalcRestWord\"\n      ref=\"commentInput\"\n    />\n    <span class=\"input-rest\">{{ inputRestWord }}</span>\n    <div class=\"box-options\">\n      <div class=\"options-left\">\n        <i class=\"iconfont icon-emotional\" />\n        <i class=\"iconfont icon-at\" />\n        <i class=\"iconfont icon-well\" />\n      </div>\n      <div class=\"options-right\">评论</div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { debounce } from \"@/utils/utils\";\nimport { defineComponent, ref } from \"vue\";\n\nexport default defineComponent({\n  setup() {\n    // 处理剩余字数\n    const inputRestWord = ref(140);\n    const commentInput = ref<HTMLTextAreaElement | null>(null);\n    const calcWord = () => {\n      const text = commentInput.value.value;\n      const english = text.match(/[a-zA-Z]/g)?.length || 0;\n      const chinese = text.length - english;\n      inputRestWord.value = Math.floor(140 - english / 2 - chinese);\n    };\n    const handleCalcRestWord = debounce(calcWord, 300);\n\n    return {\n      inputRestWord,\n      commentInput,\n      handleCalcRestWord,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.comment-box {\n  position: relative;\n  .box-input {\n    width: 100%;\n    padding: 10px;\n    margin-bottom: 10px;\n    border: 1px solid #e1e1e1;\n    border-radius: 8px;\n    box-sizing: border-box;\n    outline: none;\n    color: #333;\n    resize: none;\n  }\n\n  .input-rest {\n    position: absolute;\n    top: 5em;\n    right: 0.6em;\n    font-size: 12px;\n    color: #666;\n  }\n\n  .box-options {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    .options-left {\n      .iconfont {\n        margin-right: 6px;\n        font-size: 24px;\n        color: #444;\n        cursor: pointer;\n      }\n    }\n\n    .options-right {\n      padding: 8px 16px;\n      color: #666;\n      border: 1px solid #e1e1e1;\n      border-radius: 25px;\n      font-size: 14px;\n    }\n  }\n}\n</style>\n","\nimport { debounce } from \"@/utils/utils\";\nimport { defineComponent, ref } from \"vue\";\n\nexport default defineComponent({\n  setup() {\n    // 处理剩余字数\n    const inputRestWord = ref(140);\n    const commentInput = ref<HTMLTextAreaElement | null>(null);\n    const calcWord = () => {\n      const text = commentInput.value.value;\n      const english = text.match(/[a-zA-Z]/g)?.length || 0;\n      const chinese = text.length - english;\n      inputRestWord.value = Math.floor(140 - english / 2 - chinese);\n    };\n    const handleCalcRestWord = debounce(calcWord, 300);\n\n    return {\n      inputRestWord,\n      commentInput,\n      handleCalcRestWord,\n    };\n  },\n});\n","import { render } from \"./CommentBox.vue?vue&type=template&id=2fead7f8&scoped=true\"\nimport script from \"./CommentBox.vue?vue&type=script&lang=ts\"\nexport * from \"./CommentBox.vue?vue&type=script&lang=ts\"\n\nimport \"./CommentBox.vue?vue&type=style&index=0&id=2fead7f8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2fead7f8\"\n\nexport default script"],"sourceRoot":""}